(this["webpackJsonpapollo-blog"]=this["webpackJsonpapollo-blog"]||[]).push([[0],{133:function(e,t,a){e.exports=a(266)},19:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),l=a.n(o),c=a(7),i=a(8),s=a(10),u=a(9),m=a(11),d=a(15),p=a(12),h=(a(142),a(271)),g=a(76),f=function(){g.a.pageview(window.location.pathname+window.location.search)},b=function(e,t,a){g.a.event({category:e,action:t,label:a})},v=a(6),E=a.n(v),w=function(e){return"/api/article/"+e+"/"},_=function(e){return"/api/comment/"+e},S=function(e){return"/api/remove-comment-upvote/"+e},k=function(e){return"/api/comment-upvote/"+e+"/"},C=function(e){return"/api/remove-comment-downvote/"+e},A=function(e){return"/api/comment-downvote/"+e+"/"},y=function(e){return"/api/remove-article-upvote/"+e},O=function(e){return"/api/article-upvote/"+e+"/"},j=function(e){return"/api/remove-article-downvote/"+e},N=function(e){return"/api/article-downvote/"+e+"/"},F=function(e){return"/api/user-article-upvote/"+e+"/"},P=function(e){return"/api/user-article-downvote/"+e+"/"},U=function(e){return"/api/user-comment-upvote/"+e+"/"},x=function(e){return"/api/user-comment-downvote/"+e+"/"},D=function(e){return"/api/user-read-article/"+e+"/"},L="http://127.0.0.1:8000/rest-auth/registration/verify-email/",T=function(e){return"/api/user-email-preferences/"+e+"/"},R=function(e){return"/api/update-user-email-preferences/"+e+"/"},z=function(e,t,a,n){return{type:"AUTH_SUCCESS",token:e,username:t,user_id:a,success_message:n}},I=function(e){return{success_message:null,type:"AUTH_FAIL",error:e}},G=function(e){return function(t){setTimeout((function(){t({type:"AUTH_LOGOUT"})}),1e3*e)}},B=a(13),W=a(278),H=a(280),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleHomeButtonClickWithGA=function(){a.props.history.push("/"),b("Routing","Opening Home Page","From Navbar")},a.handleLogoutClickWithGA=function(){a.props.history.push("/"),a.props.logout(),b("Logout","Logging out","From Navbar")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.error,e.loading,e.authenticated),a=e.username;return(r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{expand:"lg",className:"bg-navbar"},r.a.createElement(h.a,null,r.a.createElement(W.a.Brand,{onClick:this.handleHomeButtonClickWithGA,style:{cursor:"pointer"}},r.a.createElement("h4",{className:"ubuntu-regular-font"},"Apollo")),r.a.createElement(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(W.a.Collapse,{className:"justify-content-end ",id:"basic-navbar-nav"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a.Text,null,r.a.createElement(H.a.Link,{href:"/profile",onClick:function(){return b("Routing","Opening Profile Page","From Navbar")},className:"ubuntu-regular-font"},"Hello, ",a,"!")),r.a.createElement(W.a.Text,null,r.a.createElement(H.a.Link,{onClick:this.handleLogoutClickWithGA,className:"ubuntu-regular-font"},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a.Text,null,r.a.createElement(H.a.Link,{href:"/login",onClick:function(){return b("Routing","Opening Login Page","From Navbar")},className:"ubuntu-regular-font"},"Login")),r.a.createElement(W.a.Text,null,r.a.createElement(H.a.Link,{href:"/signup",onClick:function(){return b("Routing","Opening Signup Page","From Navbar")},className:"ubuntu-regular-font"},"Signup")))))),r.a.createElement("br",null)))}}]),t}(r.a.Component),q=Object(B.f)(Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,authenticated:null!==e.auth.token,username:e.auth.username}}),(function(e){return{logout:function(t){return e((function(e){localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("username"),localStorage.removeItem("staff"),localStorage.removeItem("user_id"),b("Logout","Logout SUCESS","Logout SUCESS"),e({type:"AUTH_LOGOUT"})}))}}}))(M));a(19);var Y=function(){return r.a.createElement(W.a,{sticky:"bottom",className:"footer"},r.a.createElement(h.a,null,r.a.createElement(W.a.Text,{className:"ubuntu-regular-font"},"\xa9 ",(new Date).getFullYear()," - Apollo "),r.a.createElement(H.a,null,r.a.createElement(H.a.Item,null,r.a.createElement(H.a.Link,{href:"/store",className:"ubuntu-regular-font"},"Store")),r.a.createElement(H.a.Item,null," ",r.a.createElement(H.a.Link,{href:"/blog",className:"ubuntu-regular-font"},"Blog"),"  "),r.a.createElement(H.a.Item,null,r.a.createElement(H.a.Link,{href:"/careers",className:"ubuntu-regular-font"},"Careers")))))},V=function(e){return e.children},J=a(273),K=a(124),X=a(281),$=a(274),Q=a(275),Z=a(282);var ee=function(){return r.a.createElement("svg",{width:"29",height:"29",class:"q"},r.a.createElement("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}))};var te=function(){return r.a.createElement("svg",{width:"29",height:"29",class:"q"},r.a.createElement("path",{d:"M14.238 15.348c.085.084.085.221 0 .306-.465.462-1.194.687-2.231.687l-.008-.002-.008.002c-1.036 0-1.766-.225-2.231-.688-.085-.084-.085-.221 0-.305.084-.084.222-.084.307 0 .379.377 1.008.561 1.924.561l.008.002.008-.002c.915 0 1.544-.184 1.924-.561.085-.084.223-.084.307 0zm-3.44-2.418c0-.507-.414-.919-.922-.919-.509 0-.923.412-.923.919 0 .506.414.918.923.918.508.001.922-.411.922-.918zm13.202-.93c0 6.627-5.373 12-12 12s-12-5.373-12-12 5.373-12 12-12 12 5.373 12 12zm-5-.129c0-.851-.695-1.543-1.55-1.543-.417 0-.795.167-1.074.435-1.056-.695-2.485-1.137-4.066-1.194l.865-2.724 2.343.549-.003.034c0 .696.569 1.262 1.268 1.262.699 0 1.267-.566 1.267-1.262s-.568-1.262-1.267-1.262c-.537 0-.994.335-1.179.804l-2.525-.592c-.11-.027-.223.037-.257.145l-.965 3.038c-1.656.02-3.155.466-4.258 1.181-.277-.255-.644-.415-1.05-.415-.854.001-1.549.693-1.549 1.544 0 .566.311 1.056.768 1.325-.03.164-.05.331-.05.5 0 2.281 2.805 4.137 6.253 4.137s6.253-1.856 6.253-4.137c0-.16-.017-.317-.044-.472.486-.261.82-.766.82-1.353zm-4.872.141c-.509 0-.922.412-.922.919 0 .506.414.918.922.918s.922-.412.922-.918c0-.507-.413-.919-.922-.919z"}))};var ae=function(){return r.a.createElement("svg",{width:"29",height:"29",class:"q"},r.a.createElement("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"}))};var ne=function(){return r.a.createElement("svg",{width:"29",height:"29",class:"q"},r.a.createElement("path",{d:"M22.288 21h-20.576c-.945 0-1.712-.767-1.712-1.712v-13.576c0-.945.767-1.712 1.712-1.712h20.576c.945 0 1.712.767 1.712 1.712v13.576c0 .945-.767 1.712-1.712 1.712zm-10.288-6.086l-9.342-6.483-.02 11.569h18.684v-11.569l-9.322 6.483zm8.869-9.914h-17.789l8.92 6.229s6.252-4.406 8.869-6.229z"}))};var re=function(e){var t="";return e.classes&&(t=e.classes),r.a.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:e.text}})},oe=a(272);var le=function(){return r.a.createElement(oe.a,{animation:"border",role:"status",style:{position:"relative",left:"50%",top:"50%"}},r.a.createElement("span",{className:"sr-only"},"Loading..."))},ce=a(279),ie=a(276),se=a(277),ue=a(20);var me=function(){return r.a.createElement(oe.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))},de=(r.a.Component,a(283)),pe=a(42),he=a.n(pe),ge=(a(86),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={upvoted:!1,upvote_id:null,number_of_upvotes:null,upvotes:null},a.handleGetUpvotes=function(){E.a.get(k(a.props.comment_id)).then((function(e){e.data.forEach((function(e){e.user===parseInt(a.props.user_id)&&a.setState({upvoted:!0,upvote_id:e.id})})),a.setState({number_of_upvotes:e.data.length,upvotes:e.data})})).catch((function(e){console.log("error: "+e)}))},a.handleRemoveUpvote=function(){var e="Token "+a.props.token;E.a.delete(S(a.state.upvote_id),{headers:{Authorization:e}}).then((function(e){console.log("removed upvote "),b("Upvote Comment","Remove Upvote Comment SUCCESS"),a.setState({upvoted:!1,number_of_upvotes:a.state.number_of_upvotes-1})})).catch((function(e){b("Upvote Comment","Remove Upvote Comment FAIL"),console.log("error removing upvote"+e)})),a.props.comment_upvoted(!1)},a.handleCreateUpvote=function(){var e="Token "+a.props.token,t=new FormData;t.append("comment",a.props.comment_id),t.append("user",a.props.user_id),E.a.post("/api/create-comment-upvote/",t,{headers:{Authorization:e}}).then((function(e){b("Upvote Comment","Create Upvote Comment SUCCESS"),a.handleGetUpvotes()})).catch((function(e){b("Upvote Comment","Create Upvote Comment FAIL"),console.log("error creating upvote: "+e.code)})),a.props.comment_upvoted(!0)},a.handleUpvoteClickWithGA=function(){b("Upvote Comment","Upvote Comment Attempt"),a.handleUpvoteClick()},a.handleUpvoteClick=function(e){0===a.props.user_id?alert("You need to sign in to do this."):a.state.upvoted?a.handleRemoveUpvote():a.handleCreateUpvote()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleGetUpvotes()}},{key:"render",value:function(){var e=this.state,t=e.upvoted,a=e.number_of_upvotes,n=this.props;n.comment_id,n.user_id;return this.props.comment_downvoted&&t&&this.handleRemoveUpvote(),r.a.createElement(Q.a,{onClick:this.handleUpvoteClickWithGA,className:t?"cursor-pointer color-green ":"cursor-pointer"},r.a.createElement(ue.c,{size:25})," ",a)}}]),t}(r.a.Component)),fe=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id}}))(ge),be=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={downvoted:!1,downvote_id:null,number_of_downvotes:null,downvotes:null},a.handleGetDownvotes=function(){E.a.get(A(a.props.comment_id)).then((function(e){e.data.forEach((function(e){e.user===parseInt(a.props.user_id)&&a.setState({downvoted:!0,downvote_id:e.id})})),a.setState({number_of_downvotes:e.data.length,downvotes:e.data})})).catch((function(e){console.log("error: "+e)}))},a.handleRemoveDownvote=function(){var e="Token "+a.props.token;E.a.delete(C(a.state.downvote_id),{headers:{Authorization:e}}).then((function(e){b("Downvote Comment","Remove Downvote Comment SUCCESS"),console.log("removed downvote "),a.setState({downvoted:!1,number_of_downvotes:a.state.number_of_downvotes-1})})).catch((function(e){b("Downvote Comment","Remove Downvote Comment FAIL"),console.log("error removing downvote"+e)})),a.props.comment_downvoted(!1)},a.handleCreateDownvote=function(){var e="Token "+a.props.token,t=new FormData;t.append("comment",a.props.comment_id),t.append("user",a.props.user_id),E.a.post("/api/create-comment-downvote/",t,{headers:{Authorization:e}}).then((function(e){b("Downvote Comment","Create Downvote Comment SUCCESS"),a.handleGetDownvotes()})).catch((function(e){b("Downvote Comment","Create Downvote Comment FAIL"),console.log("error creating upvote: "+e.code)})),a.props.comment_downvoted(!0)},a.handleDownvoteClickWithGA=function(){b("Downvote Comment","Downvote Comment Attempt"),a.handleDownvoteClick()},a.handleDownvoteClick=function(e){a.state.downvoted?a.handleRemoveDownvote():a.handleCreateDownvote()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleGetDownvotes()}},{key:"render",value:function(){var e=this.state,t=e.downvoted,a=e.number_of_downvotes,n=this.props;n.comment_id,n.user_id;return this.props.comment_upvoted&&t&&this.handleRemoveDownvote(),r.a.createElement(Q.a,{onClick:this.handleDownvoteClickWithGA,className:this.state.downvoted?"cursor-pointer color-red ":"cursor-pointer"},r.a.createElement(ue.b,{size:25})," ",a)}}]),t}(r.a.Component),ve=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id}}))(be),Ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comment_upvoted:!1,comment_downvoted:!1},a.handleCommentUpvoteClick=function(e){console.log("handleCommentUpvoteClick value : "+e),a.setState({comment_upvoted:e})},a.handleCommentDownvoteClick=function(e){console.log("handleCommentDownvoteClick value : "+e),a.setState({comment_downvoted:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.comment_upvoted,a=e.comment_downvoted;return console.log("this.props.comment.author: "+this.props.comment.author),r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{className:"border-radius-25px "},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,{className:"roboto-bold-font"},this.props.comment.author,r.a.createElement("div",{className:"float-right"},r.a.createElement(fe,{comment_id:this.props.comment.id,comment_downvoted:a,comment_upvoted:this.handleCommentUpvoteClick})," ",r.a.createElement(ve,{comment_id:this.props.comment.id,comment_upvoted:t,comment_downvoted:this.handleCommentDownvoteClick}))),r.a.createElement(de.a.Subtitle,{className:"mb-2 text-muted roboto-regular-font"},new Date(this.props.comment.created_date).toDateString()),r.a.createElement(de.a.Text,{className:"roboto-regular-font"},r.a.createElement(re,{text:this.props.comment.body})))),r.a.createElement("hr",null))}}]),t}(r.a.Component),we=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!0,submit_button_loading:!1,commenter_name:"",comment_body:"",comment_submitted:!1,comment_upvoted:!1,comment_downvoted:!1,comments:null},a.handleGetComments=function(){E.a.get(_(a.props.article_id)).then((function(e){a.setState({loading:!1,comments:e.data})})).catch((function(e){a.setState({loading:!1,error:e.data})}))},a.handleCommentBody=function(e){a.setState({comment_body:e})},a.handlePostCommentWithGA=function(){b("Create Article Comment","Create Comment Attempt","From Article Comment Section"),a.handlePostComment()},a.handlePostComment=function(){a.setState({submit_button_loading:!0});var e=new FormData;e.append("body",a.state.comment_body),e.append("user",a.props.user_id),e.append("article",a.props.article_id),E.a.post("/api/create-comment/",e).then((function(e){console.log("comment submitted"),b("Create Article Comment","Create Comment SUCCESS","From Article Comment Section"),a.setState({submit_button_loading:!1,commenter_name:"",comment_body:"",comment_submitted:!0}),a.handleGetComments()})).catch((function(e){b("Create Article Comment","Create Comment FAIL","From Article Comment Section"),a.setState({error:e.response.data,submit_button_loading:!1,comment_body:""})}))},a.handleValidateComment=function(){return console.log("comment body : "+a.state.comment_body),a.state.comment_body.length>11},a.handleCommentUpvoteClick=function(e){console.log("handleCommentUpvoteClick value : "+e),a.setState({comment_upvoted:e})},a.handleCommentDownvoteClick=function(e){console.log("handleCommentDownvoteClick value : "+e),a.setState({comment_downvoted:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.handleGetComments()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.submit_button_loading,n=(e.error,e.comment_body),o=e.comment_submitted,l=(e.comment_downvoted,e.comment_upvoted,e.comments),c=this.props,i=(c.user_id,c.username,c.authenticated);return console.log("loading : "+t),r.a.createElement("div",null,r.a.createElement("h2",{className:"roboto-bold-font"},"Comments"),r.a.createElement("hr",null),r.a.createElement(h.a,null,t&&r.a.createElement(le,null),t?r.a.createElement("br",null):l?l.map((function(e){return r.a.createElement(Ee,{comment:e})})):r.a.createElement(Z.a,{variant:"dark"},"There are no comments yet! Leave one below"),i?r.a.createElement(de.a,{className:"border-radius-25px "},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,{className:"roboto-bold-font"},"Add a Comment"),r.a.createElement("hr",null),r.a.createElement(de.a.Text,null,r.a.createElement(ie.a,null,r.a.createElement(ie.a.Row,null,r.a.createElement(K.a,null,r.a.createElement(he.a,{placeholder:"Start Writing...",onChange:this.handleCommentBody,value:n}))))),a?r.a.createElement($.a,{disabled:!0,variant:"primary",className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},r.a.createElement(me,null)):r.a.createElement($.a,{onClick:this.handlePostCommentWithGA,disabled:!this.handleValidateComment(),variant:"primary",className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Add Comment"))):r.a.createElement(Z.a,{variant:"dark",className:"roboto-regular-font"},"You need to ",r.a.createElement("a",{href:"/login",onClick:function(){return b("Routing","Opening Login Page","From Article Comment Section")}},"Login")," or ",r.a.createElement("a",{href:"/signup",onClick:function(){return b("Routing","Opening Signup Page","From Article Comment Section")}},"Signup")," to leave a comment."),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Z.a,{variant:"success",className:"roboto-bold-font"},"Your comment has been added!"))))}}]),t}(r.a.Component),_e=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,authenticated:null!==e.auth.token,user_id:e.auth.user_id,username:e.auth.username}}))(we),Se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={upvoted:!1,upvote_id:null,number_of_upvotes:null,upvotes:null},a.handleGetUpvotes=function(){E.a.get(O(a.props.article_id)).then((function(e){e.data.forEach((function(e){e.user===parseInt(a.props.user_id)&&a.setState({upvoted:!0,upvote_id:e.id})})),a.setState({number_of_upvotes:e.data.length,upvotes:e.data})})).catch((function(e){console.log("error: "+e)}))},a.handleRemoveUpvote=function(){var e="Token "+a.props.token;E.a.delete(y(a.state.upvote_id),{headers:{Authorization:e}}).then((function(e){b("Upvote Article","Remove Upvote Article SUCCESS"),a.handleGetUpvotes(),console.log("removed upvote "),a.setState({upvoted:!1})})).catch((function(e){b("Upvote Article","Remove Upvote Article FAIL"),console.log("error removing upvote"+e)})),a.props.article_upvoted(!1)},a.handleCreateUpvote=function(){var e="Token "+a.props.token,t=new FormData;t.append("article",a.props.article_id),t.append("user",a.props.user_id),E.a.post("/api/create-article-upvote/",t,{headers:{Authorization:e}}).then((function(e){b("Upvote Article","Create Upvote Article SUCCESS"),a.handleGetUpvotes()})).catch((function(e){b("Upvote Article","Create Upvote Article FAIL"),console.log("error creating upvote: "+e.code)})),a.props.article_upvoted(!0)},a.handleUpvoteClickWithGA=function(){b("Upvote Article","Upvote Comment Attempt"),a.handleUpvoteClick()},a.handleUpvoteClick=function(e){0===a.props.user_id?alert("You need to sign in to do this."):a.state.upvoted?a.handleRemoveUpvote():a.handleCreateUpvote()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleGetUpvotes()}},{key:"render",value:function(){var e=this.state,t=e.upvoted,a=e.number_of_upvotes,n=this.props;n.comment_id,n.user_id;return this.props.article_downvoted&&t&&this.handleRemoveUpvote(),r.a.createElement(Q.a,{onClick:this.handleUpvoteClickWithGA,className:this.state.upvoted?"cursor-pointer color-green ":"cursor-pointer"},r.a.createElement(ue.c,{size:25})," ",a)}}]),t}(r.a.Component),ke=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id}}))(Se),Ce=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={downvoted:!1,downvote_id:null,number_of_downvotes:null,downvotes:null},a.handleGetDownvotes=function(){E.a.get(N(a.props.article_id)).then((function(e){console.log("response: "+e.data),e.data.forEach((function(e){e.user===parseInt(a.props.user_id)&&a.setState({downvoted:!0,downvote_id:e.id})})),a.setState({number_of_downvotes:e.data.length,downvotes:e.data})})).catch((function(e){console.log("error: "+e)}))},a.handleRemoveDownvote=function(){var e="Token "+a.props.token;E.a.delete(j(a.state.downvote_id),{headers:{Authorization:e}}).then((function(e){b("Downvote Article","Remove Downvote Article SUCCESS"),a.handleGetDownvotes(),console.log("removed downvote "),a.setState({downvoted:!1})})).catch((function(e){b("Downvote Article","Remove Downvote Article FAIL"),console.log("error removing downvote"+e)})),a.props.article_downvoted(!1)},a.handleCreateDownvote=function(){var e="Token "+a.props.token,t=new FormData;t.append("article",a.props.article_id),t.append("user",a.props.user_id),E.a.post("/api/create-article-downvote/",t,{headers:{Authorization:e}}).then((function(e){b("Downvote Article","Create Downvote Article SUCCESS"),a.handleGetDownvotes()})).catch((function(e){b("Downvote Article","Create Downvote Article FAIL"),console.log("error creating upvote: "+e.code)})),a.props.article_downvoted(!0)},a.handleDownvoteClickWithGA=function(){b("Downvote Article","Downvote Article Attempt"),a.handleDownvoteClick()},a.handleDownvoteClick=function(e){0===a.props.user_id?alert("You need to sign in to do this."):a.state.downvoted?a.handleRemoveDownvote():a.handleCreateDownvote()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleGetDownvotes()}},{key:"render",value:function(){var e=this.state,t=e.downvoted,a=e.number_of_downvotes,n=this.props;n.comment_id,n.user_id;return this.props.article_upvoted&&t&&this.handleRemoveDownvote(),r.a.createElement(Q.a,{onClick:this.handleDownvoteClickWithGA,className:this.state.downvoted?"cursor-pointer color-red ":"cursor-pointer"},r.a.createElement(ue.b,{size:25})," ",a)}}]),t}(r.a.Component),Ae=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id}}))(Ce),ye=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,error:null,article_data:[],article_upvoted:!1,article_downvoted:!1,window_width:null},a.handleGetArticle=function(){var e=a.props.match.params.article_id;E.a.get(w(e)).then((function(e){console.log(e.data),a.setState({loading:!1,article_data:e.data})})).catch((function(e){a.setState({error:e,loading:!1})}))},a.handleCreateUserReadArticle=function(){var e=new FormData;e.append("article",a.props.match.params.article_id),null!=localStorage.getItem("user_id")&&e.append("user",localStorage.getItem("user_id")),console.log("this.props.match.params.article_id : "+a.props.match.params.article_id),E.a.post("/api/create-user-read-article/",e).then((function(e){console.log("Create userreadarticle: "+e.data)})).catch((function(e){console.log("error userreadarticle: "+e.data)}))},a.handleArticleUpvoteClick=function(e){console.log("handleArticleUpvoted value : "+e),a.setState({article_upvoted:e})},a.handleArticleDownvoteClick=function(e){console.log("handleArticleDownvoted value : "+e),a.setState({article_downvoted:e})},a.handleHomeButtonClickWithGA=function(){a.props.history.push("/"),b("Routing","Opening Home Page","From Article Page")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWindowDimensions.bind(this)),this.updateWindowDimensions(),this.setState({loading:!0}),f(),this.handleGetArticle(),this.handleCreateUserReadArticle()}},{key:"updateWindowDimensions",value:function(){this.setState({window_width:window.innerWidth>=992,height:window.innerHeight})}},{key:"render",value:function(){var e=this.state,t=e.article_data,a=e.loading,n=e.article_upvoted,o=e.article_downvoted,l=e.window_width,c=this.props.authenticated,i=new Date(t.created_date).toDateString(),s=document.getElementById("apollo_widget_left_sidebar");document.getElementsByTagName("body")[0].onscroll=function(e){document.documentElement.scrollTop>=70?s.classList.add("AfterScroll"):s.classList.remove("AfterScroll")};var u="https://twitter.com/intent/tweet?text=check%20out%20this%20new%20ecommerce%20startup!%20https%3A%2F%2Flocalhost%3A3000%2Fblog%2Farticle%2F"+t.id,m="https://www.reddit.com/submit?url=https%3A%2F%2Fwww.apollo-blog-269301.appspot.com%2Fblog%2Farticle%2F"+t.id+"&title=Check%20Out%20This%20New%20Ecommerce%20Startup ",p="mailto:?subject=Check Out This New Ecommerce Startup&body=Check Out This New Ecommerce Startup!%0A%0A They are the first ecommerce site that is accepting Bitcoin and they've got big plans!%0A%0A You can read more about them out at https%3A%2F%2Fwww.apollo-blog-269301.appspot.com%2Fblog%2Farticle%2F"+t.id,h="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.apollo-blog-269301.appspot.com%2Fblog%2Farticle%2F"+t.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null,l&&r.a.createElement(K.a,{lg:2},r.a.createElement(X.a,{variant:"flush",className:"sticky-top BeforeScroll "},r.a.createElement("div",{id:"apollo_widget_left_sidebar"},r.a.createElement(X.a.Item,{className:"bg-app border-width-0px "},r.a.createElement("h4",{className:"roboto-regular-font",onClick:this.handleHomeButtonClickWithGA,style:{cursor:"pointer"}},"Apollo")),r.a.createElement(X.a.Item,{className:"bg-app border-width-0px "},!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{article_id:t.id,article_downvoted:o,article_upvoted:this.handleArticleUpvoteClick}),r.a.createElement(Ae,{article_id:t.id,article_upvoted:n,article_downvoted:this.handleArticleDownvoteClick})),r.a.createElement("br",null),r.a.createElement("a",{class:"margin-top-5-percent",target:"_blank",href:u,onClick:function(){return b("Article Sharing","Sharing Article via Twitter Link in Left Sidebar","From Article Page")}},r.a.createElement(ee,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{class:"margin-top-5-percent",target:"_blank",href:m,onClick:function(){return b("Article Sharing","Sharing Article via Reddit Link in Left Sidebar","From Article Page")}},r.a.createElement(te,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{class:"margin-top-5-percent",target:"_blank",href:h,onClick:function(){return b("Article Sharing","Sharing Article via Linkedin Link in Left Sidebar","From Article Page")}},r.a.createElement(ae,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{class:"margin-top-5-percent",target:"_blank",href:p,onClick:function(){return b("Article Sharing","Sharing Article via Email Link in Left Sidebar","From Article Page")}},r.a.createElement(ne,null)),!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(d.b,{to:"/signup",className:"article-link",onClick:function(){return b("Routing","Opening Signup Page","From Article Page")}},r.a.createElement($.a,{variant:"outline-secondary",size:"sm",className:"roboto-bold-font"},"Signup"))))))),r.a.createElement(K.a,{lg:8,md:12},a?r.a.createElement(le,null):r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"roboto-bold-font"},t.title),r.a.createElement("h6",{className:"padding-left-10px roboto-regular-font"},"By ",t.author,", ",r.a.createElement(Q.a,null,i),r.a.createElement("div",{class:"float-right width-300px"},r.a.createElement("a",{class:" float-right margin-right-5-percent ",target:"_blank",href:m,onClick:function(){return b("Article Sharing","Sharing Article via Reddit Link in Left Sidebar","From Article Page")}},r.a.createElement(te,null)),r.a.createElement("a",{class:" float-right margin-right-5-percent ",target:"_blank",href:h,onClick:function(){return b("Article Sharing","Sharing Article via Linkedin Link in Left Sidebar","From Article Page")}},r.a.createElement(ae,null)),r.a.createElement("a",{class:" float-right margin-right-5-percent ",target:"_blank",href:p,onClick:function(){return b("Article Sharing","Sharing Article via Email Link in Left Sidebar","From Article Page")}},r.a.createElement(ne,null)),r.a.createElement("a",{class:" float-right margin-right-5-percent ",target:"_blank",href:u,onClick:function(){return b("Article Sharing","Sharing Article via Twitter Link in Title","From Article Page")}},r.a.createElement(ee,null)))),r.a.createElement("hr",null),r.a.createElement("div",{id:"article_body"},r.a.createElement(re,{text:t.body,classes:" font-size-19px "}))):r.a.createElement(Z.a,{variant:"dark"},"There was an issue loading this article"),r.a.createElement("br",null),r.a.createElement(_e,{article_id:this.props.match.params.article_id})))))}}]),t}(r.a.Component),Oe=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,authenticated:null!==e.auth.token}}))(ye),je=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return(r.a.createElement(X.a.Item,{className:"bg-app"},r.a.createElement(d.b,{to:"blog/article/"+this.props.pinned_article.id,className:"article-link",onClick:function(){return b("Routing","Opening Pinned Article; id = "+e.props.pinned_article.id,"From Home Page")}},r.a.createElement(de.a,{className:"width-100-percent border-radius-25px ",id:this.props.pinned_article.id},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,{className:"roboto-bold-font"},this.props.pinned_article.title," ",r.a.createElement(ue.d,{color:"royalblue",className:"float-right font-size-1-25em"})),r.a.createElement(de.a.Subtitle,{className:"mb-2 text-muted roboto-regular-font"},"By ",this.props.pinned_article.author,", ",r.a.createElement(Q.a,null,new Date(this.props.pinned_article.created_date).toDateString())),r.a.createElement(de.a.Text,{className:"roboto-regular-font"},r.a.createElement(re,{text:this.props.pinned_article.body+"..."})))))))}}]),t}(r.a.Component),Ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!0,articles:[],pinned_article:null},a.handleGetArticles=function(){E.a.get("/api/all-articles/").then((function(e){var t=e.data,n=[];for(var r in t)if(e.data[r].pinned){n.id=t[r].id,n.title=t[r].title,n.author=t[r].author,n.created_date=t[r].created_date,n.body=t[r].body.substring(0,500);break}a.setState({loading:!1,articles:e.data,pinned_article:n})})).catch((function(e){a.setState({error:e,loading:!1})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),f(),this.handleGetArticles()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=(e.error,e.articles),n=e.pinned_article,o=(e.username,this.props);o.authenticated,o.token;return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(J.a,null,r.a.createElement("h1",{className:"ubuntu-bold-font"},"The Apollo Blog")),r.a.createElement(J.a,null,r.a.createElement("nav",{className:"navbar-light"},r.a.createElement(W.a.Text,null,r.a.createElement("h5",{className:"ubuntu-bold-font"},"Updates, news, and stories from the future of ecommerce")))),r.a.createElement(J.a,null,r.a.createElement(K.a,null))),r.a.createElement("hr",null),r.a.createElement(X.a,{variant:"flush",className:"bg-app"},!1===t&&null!==n&&r.a.createElement(je,{pinned_article:n}),!0===t?r.a.createElement(le,null):a.length>0?a.map((function(e){return r.a.createElement(X.a.Item,{className:"bg-app"},r.a.createElement(d.b,{to:"blog/article/"+e.id,className:"article-link",onClick:function(){return b("Routing","Opening Pinned Article;; id = "+e.id,"From Home Page")}},r.a.createElement(de.a,{className:"width-100-percent border-radius-25px ",id:e.id},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,{className:"roboto-bold-font"},e.title),r.a.createElement(de.a.Subtitle,{className:"mb-2 text-muted roboto-regular-font"},"By ",e.author,", ",r.a.createElement(Q.a,null,new Date(e.created_date).toDateString()," ")),r.a.createElement(de.a.Text,{className:"roboto-regular-font"},r.a.createElement(re,{text:e.body.substring(0,200)+"..."}))))))})):r.a.createElement(Z.a,{variant:"dark"},"There was an error retrieving our articles")))}}]),t}(r.a.Component),Fe=Object(p.b)((function(e){return{token:e.auth.token,authenticated:null!==e.auth.token,username:e.auth.username}}))(Ne),Pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,email:"",email_submitted:null},a.handlePostEmailWithGA=function(){b("Register Email","Register Email Atempt"),a.handlePostEmail()},a.handlePostEmail=function(){a.setState({loading:!0,error:null});var e=new FormData;e.append("email",a.state.email),E.a.post("/api/create-email-address/",e).then((function(e){b("Register Email","Register Email SUCCESS"),a.setState({email_submitted:!0,loading:!1})})).catch((function(e){b("Register Email","Register Email FAIL"),a.setState({error:e.response.data,loading:!1})}))},a.handleEmailValidated=function(){var e=a.state.email,t=e.length>5,n=e.includes("@"),r=e.includes(".");return!(t&&n&&r)},a.handleEmail=function(e){a.setState({email:e.target.value})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=(e.error,e.loading),a=e.email_submitted,n=e.email;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(K.a,{xs:{span:8,offset:2}},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(J.a,null,r.a.createElement("h3",{className:"l1-txt1 txt-center p-b-10"},"Under")),r.a.createElement(J.a,null,r.a.createElement("h3",{className:"l1-txt1 txt-center p-b-10"},"Construction")),r.a.createElement(J.a,null,r.a.createElement("nav",{className:"navbar-light"},r.a.createElement(W.a.Text,null,r.a.createElement("h6",{className:" ubuntu-regular-font font-size-24px"},"This part of our website is currently under development, sign up below for updates!")))),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ie.a,null,r.a.createElement(ie.a.Row,{className:"align-items-center"},r.a.createElement(K.a,{xs:9},r.a.createElement(ie.a.Label,{htmlFor:"inlineFormInput",srOnly:!0},"Email"),r.a.createElement(ie.a.Control,{type:"email",onChange:this.handleEmail,value:n,className:"mb-2 s1-txt3 placeholder0 wrap-input100 ",placeholder:"Email"})),r.a.createElement(K.a,{xs:3},a?r.a.createElement(ue.a,{className:"text-success font-size-4em"}):t?r.a.createElement($.a,{disabled:!0,type:"submit",className:"mb-2 flex-c-m s1-txt4 size3 where1 how-btn "},r.a.createElement(me,null)):r.a.createElement($.a,{disabled:this.handleEmailValidated(),onClick:this.handlePostEmailWithGA,type:"submit",className:"mb-2 flex-c-m s1-txt4 size3 where1 how-btn "},"Submit")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",{className:"txt-center"},"Share us on social media with the links below."),r.a.createElement("br",null),r.a.createElement(J.a,null,r.a.createElement(K.a,{xs:{span:4,offset:4}},r.a.createElement("div",{class:"float-right width-300px"},r.a.createElement("a",{class:" float-right margin-right-5-percent ",target:"_blank",href:"https://twitter.com/intent/tweet?text=check%20out%20this%20new%20ecommerce%20startup!%20https%3A%2F%2Fwww.apollostore.co/store",onClick:function(){return b("Article Sharing","Sharing Article via Twitter Link in Left Sidebar","From Article Page")}},r.a.createElement(ee,null)),r.a.createElement("a",{class:" float-right margin-right-5-percent ",target:"_blank",href:"https://www.reddit.com/submit?url=https%3A%2F%2Fwww.apollostore.co/store&title=Check%20Out%20This%20New%20Ecommerce%20Startup ",onClick:function(){return b("Article Sharing","Sharing Article via Reddit Link in Left Sidebar","From Article Page")}},r.a.createElement(te,null)),r.a.createElement("a",{class:" float-right margin-right-5-percent ",target:"_blank",href:"https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.apollostore.co/store",onClick:function(){return b("Article Sharing","Sharing Article via Linkedin Link in Left Sidebar","From Article Page")}},r.a.createElement(ae,null)),r.a.createElement("a",{class:" float-right margin-right-5-percent ",target:"_blank",href:"mailto:?subject=Check Out This New Ecommerce Startup&body=Check Out This New Ecommerce Startup!%0A%0A They are the first ecommerce site that is accepting Bitcoin and they've got big plans!%0A%0A You can read more about them out at https%3A%2F%2Fwww.apollostore.co/store",onClick:function(){return b("Article Sharing","Sharing Article via Email Link in Left Sidebar","From Article Page")}},r.a.createElement(ne,null))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),t}(r.a.Component),Ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,author:"",title:"",body:"",article_submitted:!1,countdown:3},a.handleTitle=function(e){a.setState({title:e.target.value})},a.handleBody=function(e){a.setState({body:e})},a.submitForm=function(){var e=new FormData;e.append("author",a.props.username),e.append("title",a.state.title),e.append("body",a.state.body);var t="Token "+a.props.token;console.log("token : "+t),E.a.post("/api/create-article/",e,{headers:{Authorization:t}}).then((function(e){a.setState({article_submitted:!0}),console.log(e.data)})).catch((function(e){console.log(e),a.setState({error:e,loading:!1})}))},a.countdown=function(e){e-=1,a.setState({countdown:e})},a.handleValidated=function(){return!(a.state.title.length>1&&a.state.body.length>1)},a.modules={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},a.formats=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"],a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({author:this.props.username,loading:!1})}},{key:"render",value:function(){var e=this.state,t=(e.author,e.title,e.body,e.article_submitted),a=e.countdown,n=e.error,o=this.props,l=o.authenticated;o.token;return r.a.createElement(h.a,null,r.a.createElement(J.a,null,r.a.createElement(K.a,{xs:2}),r.a.createElement(K.a,{xs:8},l?r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{className:"border-radius-25px "},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,{as:"h3",className:"roboto-bold-font"},"Add an Article"),r.a.createElement("hr",null),r.a.createElement(de.a.Text,null,r.a.createElement(ie.a,null,r.a.createElement(ie.a.Row,null,r.a.createElement(ie.a.Label,null,"Article Title:"),r.a.createElement(ie.a.Control,{required:!0,type:"text",placeholder:"Enter Title",onChange:this.handleTitle})),r.a.createElement("br",null),r.a.createElement(ie.a.Row,null,r.a.createElement(K.a,null,r.a.createElement(ie.a.Label,null,"Article Body:"),r.a.createElement(he.a,{required:!0,placeholder:"Start Writing...",onChange:this.handleBody,className:"editor_form_control",modules:this.modules,formats:this.formats,theme:"snow"}))))),r.a.createElement("br",null),r.a.createElement($.a,{variant:"primary",onClick:this.submitForm,disabled:this.handleValidated(),className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Add Article"))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Z.a,{variant:"danger"},"Nice try buddy")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("meta",{"http-equiv":"refresh",content:"3;url=/"}),r.a.createElement(Z.a,{variant:"success"},"You successfully created an article! You will be redirected in ",a," seconds"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{variant:"danger"},"How did you get here? Oops. Click here to ",r.a.createElement("a",{href:"/blog"},"go to Home."))))))}}]),t}(r.a.Component),xe=Object(B.f)(Object(p.b)((function(e){return console.log(e.auth.token),{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,username:e.auth.username,authenticated:null!==e.auth.token}}))(Ue)),De=a(50),Le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,email_option:"",subject:"",body:"",recipient:"",article_submitted:!1,countdown:3,email_preferences_options:""},a.handleGetEmailPreferencesOptions=function(){a.setState({loading:!0}),console.log("inside handleGetEmailPreferencesOptions");var e=a.props.user_id,t="Token "+a.props.token;console.log(e+" "+t),E.a.get(T(e),{headers:{Authorization:t}}).then((function(e){a.setState({loading:!1,email_preferences_options:e.data[0],recipient:Object.keys(e.data[0])[0]})})).catch((function(e){console.log("email prefs error: "+e.data),a.setState({loading:!1,error:e.data})}))},a.handleSubject=function(e){a.setState({subject:e.target.value})},a.handleBody=function(e){a.setState({body:e})},a.handleChangeRecipients=function(e){a.setState({recipient:e.target.value})},a.submitForm=function(){b("Send Promotional Email","Send Promotional Email Attempt","From Send Email Page"),console.log("subject : "+a.state.subject),console.log("body : "+a.state.body),console.log("recipient : "+a.state.recipient);var e=new FormData;e.append("subject",a.state.subject),e.append("body",a.state.body),e.append("recipients",a.state.recipient),e.append("user",a.props.user_id);var t="Token "+a.props.token;console.log("token : "+t),E.a.post("/api/create-promotional-email/",e,{headers:{Authorization:t}}).then((function(e){b("Send Promotional Email","Send Promotional Email SUCCESS","From Send Email Page"),console.log(e.data),a.setState({article_submitted:!0})})).catch((function(e){b("Send Promotional Email","Send Promotional Email FAIL","From Send Email Page"),console.log(e),a.setState({error:e,loading:!1})}))},a.handleValidated=function(){return!(a.state.subject.length>1&&a.state.body.length>1)},a.modules={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},a.formats=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"],a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),f()}},{key:"componentDidUpdate",value:function(e){this.props.token!==e.token&&this.handleGetEmailPreferencesOptions()}},{key:"render",value:function(){var e=this.state,t=e.email_preferences_options,a=(e.title,e.body,e.article_submitted),n=e.countdown,o=e.error,l=e.loading,c=e.recipient,i=this.props,s=i.authenticated;i.token;return r.a.createElement(h.a,null,r.a.createElement(J.a,null,r.a.createElement(K.a,{xs:2}),r.a.createElement(K.a,{xs:8},s?l?r.a.createElement(le,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{className:"border-radius-25px "},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,{as:"h3",className:"roboto-bold-font"},"Send an Email"),r.a.createElement("hr",null),r.a.createElement(de.a.Text,null,r.a.createElement(ie.a,null,r.a.createElement(ie.a.Row,null,r.a.createElement(ie.a.Label,null,"Email Subject:"),r.a.createElement(ie.a.Control,{required:!0,type:"text",placeholder:"Enter Subject",onChange:this.handleSubject})),r.a.createElement("br",null),r.a.createElement(ie.a.Row,null,r.a.createElement(ie.a.Label,null,"Recipients"),r.a.createElement(ie.a.Control,{as:"select",onChange:this.handleChangeRecipients,value:c},Object.entries(t).map((function(e){var t=Object(De.a)(e,2),a=t[0],n=(t[1],a.replace(/_/g," ")),o=n.replace(n.charAt(0),n.charAt(0).toUpperCase());return r.a.createElement("option",{value:a},o)})))),r.a.createElement("br",null),r.a.createElement(ie.a.Row,null,r.a.createElement(K.a,null,r.a.createElement(ie.a.Label,null,"Email Body:"),r.a.createElement(he.a,{required:!0,placeholder:"Start Writing...",onChange:this.handleBody,className:"editor_form_control",modules:this.modules,formats:this.formats,theme:"snow"}))))),r.a.createElement("br",null),r.a.createElement($.a,{variant:"primary",onClick:this.submitForm,disabled:this.handleValidated(),className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Send Email"))),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Z.a,{variant:"danger"},"Error sending email")),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("meta",{"http-equiv":"refresh",content:"3;url=/"}),r.a.createElement(Z.a,{variant:"success"},"You successfully sent an email! You will be redirected in ",n," seconds"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{variant:"danger"},"How did you get here? Oops. Click here to go ",r.a.createElement("a",{href:"/blog"},"home."))))))}}]),t}(r.a.Component),Te=Object(B.f)(Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id,username:e.auth.username,authenticated:null!==e.auth.token}}))(Le)),Re=a(125),ze=a(126),Ie=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleUsername=function(e){a.setState({username:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.validateForm=function(){return console.log(a.state.email.length),console.log(a.state.email.length>0&&a.state.password.length>8),a.state.email.length>0&&a.state.password.length>8},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login(n,r)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){f()}},{key:"render",value:function(){var e=this.props,t=e.error,a=(e.loading,e.token),n=this.state,o=n.username,l=n.password;return a?r.a.createElement(B.a,{to:"/"}):r.a.createElement("div",{className:"account-form bg-app"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",{className:"ubuntu-bold-font"},"Login"),r.a.createElement("hr",null),r.a.createElement(Re.a,{controlId:"email",bsSize:"large"},r.a.createElement(ie.a.Label,{htmlFor:"inlineFormInput",srOnly:!0},"Username"),r.a.createElement(ze.a,{placeholder:"Username",required:!0,autoFocus:!0,value:o,onChange:this.handleUsername,className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),r.a.createElement(Re.a,{controlId:"password",bsSize:"large"},r.a.createElement(ie.a.Label,{htmlFor:"inlineFormInput",srOnly:!0},"Password"),r.a.createElement(ze.a,{placeholder:"Password",required:!0,value:l,onChange:this.handlePassword,className:"mb-2 s1-txt3 placeholder0 wrap-input100 ",type:"password"})),r.a.createElement($.a,{block:!0,onClick:function(){return b("Login","Login Attempt","Hit Login Button")},type:"submit",className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Login"),r.a.createElement(Q.a,null,"New to Apollo? ",r.a.createElement(d.c,{to:"/signup",onClick:function(){return b("Routing","Opening Signup Page","From Login Page")}},"Signup ")),r.a.createElement("br",null),r.a.createElement(Q.a,null,r.a.createElement(d.c,{to:"/reset",onClick:function(){return b("Routing","Opening reset-password Page","From Login Page")}},"Forgot your password?")),r.a.createElement("br",null),t&&r.a.createElement(Z.a,{variant:"danger"},Object.keys(t).map((function(e){return r.a.createElement("li",null,t[e][0])})))))}}]),t}(r.a.Component),Ge=Object(B.f)(Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{login:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),E.a.post("/api/login/",{username:e,password:t}).then((function(t){var n=t.data.key,r=t.data.user_id,o=new Date((new Date).getTime()+36e5);localStorage.setItem("user_id",r),localStorage.setItem("username",e),localStorage.setItem("token",n),localStorage.setItem("expirationDate",o),b("Login","Login SUCCESS","Login SUCCESS"),a(z(n,e,r)),a(G(1e4))})).catch((function(e){console.log("error logging in: "),console.log(e.response.data),b("Login","Login FAIL","Login FAIL"),a(I(e.response.data))}))}}(t,a))}}}))(Ie)),Be=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:null,error:null,email:"",username:"",password:"",confirm_password:"",passwords_match:!0},a.handleEmail=function(e){a.setState({email:e.target.value})},a.handleUsername=function(e){a.setState({username:e.target.value})},a.handlePassword=function(e){a.state.confirm_password!==e.target.value?a.setState({passwords_match:!1,password:e.target.value}):a.setState({passwords_match:!0,password:e.target.value})},a.handleConfirmPassword=function(e){a.state.password!==e.target.value?a.setState({passwords_match:!1,confirm_password:e.target.value}):a.setState({passwords_match:!0,confirm_password:e.target.value})},a.handleValidated=function(){var e=a.state.email.length>0,t=a.state.username.length>0,n=a.state.password.length>8,r=a.state.confirm_password.length>8,o=a.state.password_valid===a.state.confirm_password_valid;return e&&t&&n&&r&&o&&a.state.passwords_match},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.username,o=t.password,l=t.confirm_password;a.props.signup(r,n,o,l)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){f()}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.username,n=e.password,o=e.confirm_password,l=e.passwords_match,c=this.props,i=c.error,s=c.token,u=c.loading,m=c.success_message;if(i)var p=i.response.data;return s?r.a.createElement(B.a,{to:"/"}):r.a.createElement("div",{className:"account-form bg-app"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",{className:"ubuntu-bold-font"},"Signup"),r.a.createElement("hr",null),r.a.createElement(Re.a,{controlId:"email",bsSize:"large"},r.a.createElement(ze.a,{placeholder:"Email",required:!0,autoFocus:!0,type:"email",value:t,onChange:this.handleEmail,className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),r.a.createElement(Re.a,{controlId:"username",bsSize:"large"},r.a.createElement(ze.a,{placeholder:"Username",required:!0,value:a,onChange:this.handleUsername,className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),r.a.createElement(Re.a,{controlId:"password",bsSize:"large"},r.a.createElement(ze.a,{placeholder:"Password",required:!0,value:n,onChange:this.handlePassword,type:"password",className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),r.a.createElement(Re.a,{controlId:"confirm_password",bsSize:"large"},r.a.createElement(ze.a,{placeholder:"Confirm Password",required:!0,value:o,onChange:this.handleConfirmPassword,type:"password",className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),u?r.a.createElement($.a,{block:!0,bsSize:"large",disabled:!0,type:"submit",className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},r.a.createElement(me,null)):r.a.createElement($.a,{block:!0,bsSize:"large",disabled:!this.handleValidated(),onClick:function(){return b("Signup","Signup Attempt","Hit Signup Button")},type:"submit",className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Signup"),r.a.createElement(Q.a,null,"Already have an account?",r.a.createElement(d.c,{to:"/login",onClick:function(){return b("Routing","Opening Login Page","From Signup Page")}},"Login")),!l&&r.a.createElement(Z.a,{variant:"danger"},"Your passwords must match"),m&&r.a.createElement(Z.a,{variant:"success"},Object.keys(m).map((function(e){return r.a.createElement("li",null,m[e])}))),i&&r.a.createElement(Z.a,{variant:"danger"},Object.keys(p).map((function(e){return r.a.createElement("li",null,p[e][0])})))))}}]),t}(r.a.Component),We=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,success_message:e.auth.success_message}}),(function(e){return{signup:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),E.a.post("/api/signup/",{username:e,email:t,password1:a,password2:n}).then((function(e){b("Signup","Signup SUCCESS","Signup SUCCESS"),r(z(null,null,null,e.data)),r(G(3600))})).catch((function(e){console.log("err: "+e),console.log("err.data: "+e.data),b("Signup","Signup FAIL","Signup FAIL: "+e),r(I(e))}))}}(t,a,n,r))}}}))(Be),He=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,old_password:"",new_password1:"",new_password2:"",reset_password:null,passwords_match:!0},a.handleOldPassword=function(e){console.log("old password :"+e.target.value),a.setState({old_password:e.target.value})},a.handlePassword=function(e){a.state.confirm_password!=e.target.value?a.setState({passwords_match:!1,new_password1:e.target.value}):a.setState({passwords_match:!0,new_password1:e.target.value})},a.handleConfirmPassword=function(e){a.state.password!=e.target.value?a.setState({passwords_match:!1,new_password2:e.target.value}):a.setState({passwords_match:!0,new_password2:e.target.value})},a.handleChangePasswordWithGA=function(){b("Change Password","Change Password Attempt","Change Password Attempt"),a.handleChangePassword()},a.handleChangePassword=function(){a.setState({loading:!0});var e=new FormData;e.append("new_password1",a.state.new_password1),e.append("new_password2",a.state.new_password2),e.append("old_password",a.state.old_password);var t=!0,n=!1,r=void 0;try{for(var o,l=e.values()[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var c=o.value;console.log("value: "+c)}}catch(s){n=!0,r=s}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}var i="Token "+a.props.token;E.a.post("/rest-auth/password/change/",e,{headers:{Authorization:i}}).then((function(e){console.log("response: "+e.data),b("Change Password","Change Password SUCCESS","Change Password SUCCESS"),a.setState({loading:!1,error:null,reset_password:e.data.detail,passwords_match:!0})})).catch((function(e){console.log("error: "+e.response.data),b("Change Password","Change Password FAIL","Change Password FAIL"),a.setState({loading:!1,error:e.response.data,passwords_match:!0})}))},a.handleValidated=function(){return a.state.old_password.length>1&&a.state.new_password2.length>1&&a.state.new_password1.length>1&&a.state.new_password2==a.state.new_password1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error,a=e.loading,n=(e.new_password1,e.new_password2,e.old_password,e.reset_password),o=e.passwords_match;this.props.token;return r.a.createElement(h.a,null,r.a.createElement(de.a,{className:"border-radius-25px "},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,null,r.a.createElement("h5",{className:"ubuntu-bold-font"},"Change Your Password")),r.a.createElement("hr",null),r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a.Control,{type:"password",placeholder:"Old Password",onChange:this.handleOldPassword,className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a.Control,{type:"password",placeholder:"New Password",onChange:this.handlePassword,className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a.Control,{type:"password",placeholder:"Confirm New Password",onChange:this.handleConfirmPassword,className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),r.a.createElement(ie.a.Group,null,a?r.a.createElement($.a,{block:!0,bsSize:"large",disabled:!this.handleValidated(),className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},r.a.createElement(me,null)):r.a.createElement($.a,{block:!0,bsSize:"large",disabled:!this.handleValidated(),onClick:this.handleChangePasswordWithGA,className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Change Your Password")),!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Z.a,{variant:"danger"},"Your passwords must match")),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Z.a,{variant:"success"},n)),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Z.a,{variant:"danger"},Object.keys(t).map((function(e){return r.a.createElement("li",null,t[e][0])})))))))}}]),t}(r.a.Component),Me=Object(p.b)((function(e){return{token:e.auth.token}}))(He),qe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!0,account_info:[]},a.handleGetAccount=function(){a.setState({loading:!0});var e="Token "+a.props.token;E.a.get("/api/user-details/",{headers:{Authorization:e}}).then((function(e){a.setState({loading:!1,account_info:e.data})})).catch((function(e){a.setState({loading:!1,erorr:e.data})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.handleGetAccount()}},{key:"render",value:function(){var e=this.state,t=(e.error,e.loading),a=e.account_info;return(r.a.createElement(h.a,null,r.a.createElement(de.a,{className:"border-radius-25px  "},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,null,r.a.createElement("h5",{className:"ubuntu-bold-font"},"Account Information")),r.a.createElement("hr",null),t?r.a.createElement(le,null):r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:{span:4},className:"open-sans-bold-font"},"Email:"),r.a.createElement(K.a,{sm:{span:8},className:"open-sans-regular-font"},a.email),r.a.createElement(K.a,{sm:{span:4},className:"open-sans-bold-font"},"Username:"),r.a.createElement(K.a,{sm:{span:8},className:"open-sans-regular-font"},a.username),r.a.createElement(K.a,{sm:{span:4},className:"open-sans-bold-font"},"Joined:"),r.a.createElement(K.a,{sm:{span:8},className:"open-sans-regular-font"},!t&&new Date(a.date_joined).toDateString()),r.a.createElement(K.a,{sm:{span:4},className:"open-sans-bold-font"},"Last Login:"),r.a.createElement(K.a,{sm:{span:8},className:"open-sans-regular-font"},!t&&new Date(a.last_login).toDateString()))))))}}]),t}(r.a.Component),Ye=a(37),Ve={},Je=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,updated:!1,update_loading:!1,email_preferences:null,prefs_edited:!1},a.handleGetUserEmailPreferences=function(){a.setState({loading:!0});var e=a.props.user_id,t="Token "+a.props.token;E.a.get(T(e),{headers:{Authorization:t}}).then((function(e){Object.entries(e.data[0]).map((function(e){var t=Object(De.a)(e,2),n=t[0],r=t[1];a.setState(Object(Ye.a)({},n,r)),Ve[n]=r?1:0})),a.setState({loading:!1,email_preferences:e.data[0]})})).catch((function(e){console.log("email prefs error: "+e.data),a.setState({loading:!1,error:e.data})}))},a.handleInputChange=function(e){var t,n=e.target,r=n.checked,o=n.name;b("Change Email Preferences","Change Email Preferences Checkbox",o),a.setState((t={},Object(Ye.a)(t,o,r),Object(Ye.a)(t,"prefs_edited",!0),Object(Ye.a)(t,"updated",!1),t)),Ve[o]=r?1:0},a.handleUpdatePreferencesWithGA=function(){b("Change Email Preferences","Submit New Email Preferences Attempt","From Profile Page"),a.handleUpdatePreferences()},a.handleUpdatePreferences=function(){a.setState({update_loading:!0});var e=a.props.user_id,t="Token "+a.props.token;E.a.put(R(e),Ve,{headers:{Authorization:t}}).then((function(e){a.setState({loading:!1,updated:!0,update_loading:!1}),b("Change Email Preferences","Submit New Email Preferences SUCCESS","From Profile Page")})).catch((function(e){a.setState({loading:!1,error:e.data,update_loading:!1}),b("Change Email Preferences","Submit New Email Preferences FAIL","From Profile Page")}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.handleGetUserEmailPreferences()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.error,t.loading),n=t.updated,o=t.email_preferences,l=t.prefs_edited,c=t.update_loading;this.props.token;return r.a.createElement(h.a,null,r.a.createElement(de.a,{className:"border-radius-25px  "},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,null,r.a.createElement("h5",{className:"ubuntu-bold-font"},"Email Preferences")),r.a.createElement("hr",null),a?r.a.createElement(le,null):o&&Object.entries(o).map((function(t){var a=Object(De.a)(t,2),n=a[0],o=(a[1],n.replace(/_/g," ")),l=o.replace(o.charAt(0),o.charAt(0).toUpperCase());return r.a.createElement(ie.a.Group,null,r.a.createElement(ie.a.Check,{name:n,checked:e.state[n],type:"checkbox",label:l,onChange:e.handleInputChange,bsPrefix:"form-check open-sans-regular-font"}))})),!a&&(c?r.a.createElement(ie.a.Group,null,r.a.createElement($.a,{block:!0,bsSize:"large",disabled:!0,className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},r.a.createElement(me,null))):r.a.createElement(ie.a.Group,null,r.a.createElement($.a,{block:!0,bsSize:"large",disabled:!l,onClick:this.handleUpdatePreferencesWithGA,className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Save"))),n&&r.a.createElement(Z.a,{variant:"success"},"Your preferences have been updated"))))}}]),t}(r.a.Component),Ke=Object(p.b)((function(e){return{user_id:e.auth.user_id,token:e.auth.token}}))(Je),Xe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!0,article_upvotes:null,article_downvotes:null,comment_upvotes:null,comment_downvotes:null,articles_read:null},a.handleGetUserArticleUpvotes=function(){a.setState({loading:!0});var e=a.props.user_id,t="Token "+a.props.token;E.a.get(F(e),{headers:{Authorization:t}}).then((function(e){a.setState({loading:!1,article_upvotes:e.data.length})})).catch((function(e){a.setState({loading:!0,error:e.data})}))},a.handleGetUserArticleDownvotes=function(){a.setState({loading:!0});var e="Token "+a.props.token;E.a.get(P(a.props.user_id),{headers:{Authorization:e}}).then((function(e){a.setState({loading:!1,article_downvotes:e.data.length})})).catch((function(e){a.setState({loading:!1,error:e.data})}))},a.handleGetUserCommentUpvotes=function(){a.setState({loading:!0});var e="Token "+a.props.token;E.a.get(U(a.props.user_id),{headers:{Authorization:e}}).then((function(e){a.setState({loading:!1,comment_upvotes:e.data.length})})).catch((function(e){a.setState({loading:!1,error:e.data})}))},a.handleGetUserCommentDownvotes=function(){a.setState({loading:!0});var e="Token "+a.props.token;E.a.get(x(a.props.user_id),{headers:{Authorization:e}}).then((function(e){a.setState({loading:!1,comment_downvotes:e.data.length})})).catch((function(e){a.setState({loading:!1,error:e.data})}))},a.handleGetUserReadArticle=function(){a.setState({loading:!0});var e="Token "+a.props.token;E.a.get(D(a.props.user_id),{headers:{Authorization:e}}).then((function(e){a.setState({loading:!1,articles_read:e.data.length})})).catch((function(e){console.log("error: "+e.data),a.setState({loading:!1,error:e.data})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.handleGetUserArticleUpvotes(),this.handleGetUserArticleDownvotes(),this.handleGetUserCommentUpvotes(),this.handleGetUserCommentDownvotes(),this.handleGetUserReadArticle()}},{key:"render",value:function(){var e=this.state,t=(e.error,e.loading),a=e.article_upvotes,n=e.article_downvotes,o=e.comment_upvotes,l=e.comment_downvotes,c=e.articles_read;return(r.a.createElement(h.a,null,r.a.createElement(de.a,{className:"border-radius-25px  "},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,null,r.a.createElement("h5",{className:"ubuntu-bold-font"},"Article Interactions")),r.a.createElement("hr",null),t?r.a.createElement(le,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:{span:6},className:"open-sans-bold-font"},"Articles Read:"),r.a.createElement(K.a,{sm:{span:6},className:"open-sans-italic-font"},c)),r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:{span:6},className:"open-sans-bold-font"},"Articles Upvoted:"),r.a.createElement(K.a,{sm:{span:6},className:"open-sans-italic-font"},a)),r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:{span:6},className:"open-sans-bold-font"},"Articles Downvoted:"),r.a.createElement(K.a,{sm:{span:6},className:"open-sans-italic-font"},n)),r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:{span:6},className:"open-sans-bold-font"},"Comments Upvoted:"),r.a.createElement(K.a,{sm:{span:6},className:"open-sans-italic-font"},o)),r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:{span:6},className:"open-sans-bold-font"},"Comments Downvoted:"),r.a.createElement(K.a,{sm:{span:6},className:"open-sans-italic-font"},l)))))))}}]),t}(r.a.Component),$e=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id}}))(Xe),Qe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var e=this.state,t=(e.error,e.loading),a=this.props.token;return r.a.createElement(h.a,null,r.a.createElement(de.a,{className:"border-radius-25px "},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,null,r.a.createElement("h5",{className:"ubuntu-bold-font"},"Admin")),r.a.createElement("hr",null),t?r.a.createElement(le,null):"8eb05e1e2a096148f4686c071328cd1fbdec1904"===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null,r.a.createElement($.a,{block:!0,href:"/create-article",onclick:b("Routing","Opening Write Article Page","From Profile Page"),className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Write an Article")),r.a.createElement("br",null),r.a.createElement(J.a,null,r.a.createElement($.a,{block:!0,href:"/send-email",onclick:b("Routing","Opening Send Email Page","From Profile Page"),className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Send an Email"))))))}}]),t}(r.a.Component),Ze=Object(B.f)(Object(p.b)((function(e){return console.log(e.auth.token),{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,username:e.auth.username,authenticated:null!==e.auth.token}}))(Qe)),et=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={error:null,loading:!0,account_info:[]},a.handleProfileInfo=function(){switch(a.state.selected_button){case"change_password":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,null));case"email_preferences":return r.a.createElement(h.a,null,r.a.createElement("h5",null,"Change Your Email Preferences"),r.a.createElement("hr",null),r.a.createElement(ie.a.Check,{type:"checkbox",label:"New product alerts"}),r.a.createElement("br",null),r.a.createElement(ie.a.Check,{type:"checkbox",label:"Updates on the progress of our website"}),r.a.createElement("br",null),r.a.createElement(ie.a.Check,{type:"checkbox",label:"Hot Deals"}));default:return r.a.createElement("h5",null,"default case")}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!1}),f()}},{key:"render",value:function(){var e=this.state,t=(e.error,e.loading),a=(e.account_info,e.selected_button),n=this.props,o=n.username,l=n.authenticated,c=n.token;return console.log(a),r.a.createElement(r.a.Fragment,null,l?r.a.createElement(h.a,null,r.a.createElement("h4",{className:"ubuntu-bold-font"},o),r.a.createElement("hr",null),r.a.createElement(J.a,null,r.a.createElement(K.a,{sm:{span:6}},r.a.createElement(X.a,{variant:"flush",className:"bg-app"},!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a.Item,{className:"bg-app"},r.a.createElement(qe,{token:c})),r.a.createElement(X.a.Item,{className:"bg-app"},r.a.createElement($e,{token:c})),"8eb05e1e2a096148f4686c071328cd1fbdec1904"===c&&r.a.createElement(X.a.Item,{className:"bg-app"},r.a.createElement(Ze,null))))),r.a.createElement(K.a,{sm:{span:6}},r.a.createElement(X.a,{variant:"flush",className:"bg-app"},r.a.createElement(X.a.Item,{className:"bg-app"},r.a.createElement(Me,null)),r.a.createElement(X.a.Item,{className:"bg-app"},r.a.createElement(Ke,null)))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{variant:"secondary"},r.a.createElement(Z.a.Heading,null,"Oops! How'd you get here? "),r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},"Are you lost? You can ",r.a.createElement(Z.a.Link,{href:"/login",onClick:function(){return b("Routing","Opening Login Page","From 'user not logged in' section of Profile Page")}},"login")," or ",r.a.createElement(Z.a.Link,{href:"/signup",onClick:function(){return b("Routing","Opening Signup Page","From 'user not logged in' section of Profile Page")}},"signup"),"."))))}}]),t}(r.a.Component),tt=Object(p.b)((function(e){return{username:e.auth.username,token:e.auth.token,authenticated:null!==e.auth.token}}))(et),at=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,error:null,email:"",email_submitted:null,message:null},a.handleEmail=function(e){console.log(e.target.value),a.setState({email:e.target.value})},a.handleValidated=function(){return!(a.state.email.length>1)},a.handleSubmitWithGA=function(){b("Forgot Password","Forgot Password Reset Attempt","From Forgot Password Page"),a.handleSubmit()},a.handleSubmit=function(){a.setState({loading:!0});var e=new FormData;e.append("email",a.state.email),E.a.post("/api/password-reset/",e).then((function(e){console.log(e),b("Forgot Password","Forgot Password Reset SUCCESS","From Forgot Password Page"),a.setState({email_submitted:!0,loading:!1,message:e.data.message})})).catch((function(e){console.log(e),b("Forgot Password","Forgot Password Reset FAIL","From Forgot Password Page"),a.setState({error:e.response.data,loading:!1})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){f()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.error,n=e.email,o=e.email_submitted,l=e.message;return(r.a.createElement("div",{className:"account-form bg-app"},r.a.createElement("h3",{className:"ubuntu-bold-font"},"Reset Password"),r.a.createElement("hr",null),r.a.createElement(Re.a,{controlId:"email",bsSize:"large"},r.a.createElement(ze.a,{required:!0,autoFocus:!0,value:n,onChange:this.handleEmail,className:"mb-2 s1-txt3 placeholder0 wrap-input100 ",placeholder:"Email"})),t?r.a.createElement($.a,{block:!0,bsSize:"large",disabled:!0,className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},r.a.createElement(me,null)):r.a.createElement($.a,{block:!0,bsSize:"large",disabled:this.handleValidated(),onClick:this.handleSubmitWithGA,className:"mb-2 s1-txt4 flex-c-m size3-without-width how-btn "},"Submit"),r.a.createElement("br",null),o&&r.a.createElement(Z.a,{variant:"success"},l),a&&r.a.createElement(Z.a,{variant:"danger"},"There was an error with your submitted email :",a)))}}]),t}(r.a.Component),nt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,error:null,password:"",confirm_password:"",passwords_match:!0,success_message:""},a.handlePassword=function(e){a.state.confirm_password!==e.target.value?a.setState({passwords_match:!1,password:e.target.value}):a.setState({passwords_match:!0,password:e.target.value})},a.handleConfirmPassword=function(e){a.state.password!==e.target.value?a.setState({passwords_match:!1,confirm_password:e.target.value}):a.setState({passwords_match:!0,confirm_password:e.target.value})},a.handleValidated=function(){var e=a.state.password.length>8,t=a.state.confirm_password.length>8,n=a.state.password_valid===a.state.confirm_password_valid;return e&&t&&n&&a.state.passwords_match},a.handleSubmitWithGA=function(){b("Set New Password","Set New Password Reset Attempt","From Set New Password Page"),a.handleSubmit()},a.handleSubmit=function(e){a.setState({loading:!0}),e.preventDefault();var t=a.props.match.params.uid,n=a.props.match.params.token;console.log(t+" : "+n);var r=new FormData;r.append("new_password1",a.state.password),r.append("new_password2",a.state.confirm_password),r.append("uid",t),r.append("token",n),E.a.post("http://127.0.0.1:8000/rest-auth/password/reset/confirm/",r).then((function(e){console.log(e),b("Set New Password","Set New Password Reset SUCCESS","From Set New Password Page"),a.setState({loading:!0,success_message:e.data.detail})})).catch((function(e){console.log(e),b("Set New Password","Set New Password Reset FAIL","From Set New Password Page"),a.setState({loading:!1,error:e.response.data})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){f()}},{key:"render",value:function(){var e=this.state,t=e.error,a=(e.loading,e.password),n=e.confirm_password,o=e.passwords_match,l=e.success_message;return(r.a.createElement("div",{className:"account-form bg-app"},r.a.createElement("form",null,r.a.createElement("h5",null,"Enter New Password "),r.a.createElement("hr",null),r.a.createElement(Re.a,{controlId:"password",bsSize:"large"},r.a.createElement(ze.a,{placeholder:"Password",required:!0,value:a,onChange:this.handlePassword,type:"password",className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),r.a.createElement(Re.a,{controlId:"confirm_password",bsSize:"large"},"Confirm Password",r.a.createElement(ze.a,{placeholder:"Confirm Password",required:!0,value:n,onChange:this.handleConfirmPassword,type:"password",className:"mb-2 s1-txt3 placeholder0 wrap-input100 "})),r.a.createElement($.a,{block:!0,bsSize:"large",disabled:!this.handleValidated(),onClick:this.handleSubmit},"Set New Password"),r.a.createElement("br",null),!o&&r.a.createElement(Z.a,{variant:"danger"},"Your passwords must match"),l&&r.a.createElement(Z.a,{variant:"success"},l),t&&r.a.createElement(Z.a,{variant:"danger"},Object.keys(t).map((function(e){return r.a.createElement("li",null,t[e][0])}))))))}}]),t}(r.a.Component),rt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){f()}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("h1",{className:"verdana-font"},"Careers With Apollo"),r.a.createElement("hr",null),r.a.createElement("p",null,"If you are interested in what we're doing here, send us an email with your resume and skills at ",r.a.createElement("a",{href:"mailto:careers@apollo.com",onClick:function(){return b("Careers Email Link","Click Careers Email Link","From Careers Page")}},"careers@apollo.com")))}}]),t}(r.a.Component),ot=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,error:null,password:"",email_confirmed:null},a.handlePostAccountKey=function(){a.setState({loading:!0,error:null}),b("Register Account","Register Account Atempt");var e=a.props.match.params.key,t=new FormData;t.append("key",e),E.a.post(L,t).then((function(e){console.log(e.data),b("Register Account","Register Account SUCCESS"),a.setState({email_confirmed:!0,loading:!1})})).catch((function(e){console.log(e.data),console.log(e),b("Register Account","Register Account FAIL"),a.setState({error:e.response.data,loading:!1})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){f(),this.handlePostAccountKey()}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.loading,n=(e.password,e.email_confirmed);return(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"account-form bg-app"},r.a.createElement("h3",{className:"ubuntu-bold-font"},"Account Verification"),r.a.createElement("hr",null),a?r.a.createElement(le,null):n&&r.a.createElement(Z.a,{variant:"success"},"Your account has been confirmed! ",r.a.createElement(d.c,{to:"/login",onClick:function(){return b("Routing","Opening Login Page","From Verify Email Page")}},"Login ")),t&&r.a.createElement(Z.a,{variant:"danger"},"There was an error with confirming your account. The link you tried may be expired or incorrect. You can try to ",r.a.createElement(d.c,{to:"/signup",onClick:function(){return b("Routing","Opening Signup Page","From Verify Email Page")}},"signup ")," again."))))}}]),t}(r.a.Component),lt=function(){return r.a.createElement(V,null,r.a.createElement(B.b,{exact:!0,path:"/store",component:Pe}),r.a.createElement(B.b,{exact:!0,path:"/"},r.a.createElement(B.a,{to:"/blog"})),r.a.createElement(B.b,{exact:!0,path:"/blog",component:Fe}),r.a.createElement(B.b,{exact:!0,path:"/profile",component:tt}),r.a.createElement(B.b,{exact:!0,path:"/blog/article/:article_id",component:Oe}),r.a.createElement(B.b,{exact:!0,path:"/signup",component:We}),r.a.createElement(B.b,{exact:!0,path:"/login",component:Ge}),r.a.createElement(B.b,{exact:!0,path:"/create-article",component:xe}),r.a.createElement(B.b,{exact:!0,path:"/send-email",component:Te}),r.a.createElement(B.b,{exact:!0,path:"/reset",component:at}),r.a.createElement(B.b,{exact:!0,path:"/reset/:uid/:token",component:nt}),r.a.createElement(B.b,{exact:!0,path:"/careers",component:rt}),r.a.createElement(B.b,{exact:!0,path:"/verify-email/:key",component:ot}),r.a.createElement(B.b,{exact:!0,path:"/email-prefs",component:Ke}))},ct=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e;this.props.checkState(),e="UA-163650811-1",g.a.initialize(e),f()}},{key:"render",value:function(){return r.a.createElement("div",{className:"bg-app"},r.a.createElement(d.a,null,r.a.createElement(q,null),r.a.createElement(h.a,null,r.a.createElement(lt,null)),r.a.createElement(Y,null)))}}]),t}(r.a.Component),it=Object(p.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{checkState:function(){return e((function(e){var t=localStorage.getItem("token"),a=localStorage.getItem("username"),n=localStorage.getItem("user_id");if(void 0===t)e({type:"AUTH_LOGOUT"});else{var r=new Date(localStorage.getItem("expirationDate"));r<=new Date?e({type:"AUTH_LOGOUT"}):(e(z(t,a,n)),e(G((r.getTime()-(new Date).getTime())/1e3)))}}))}}}))(ct);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=a(36),ut=a(128),mt=a(129),dt=function(e,t){return Object(mt.a)({},e,{},t)},pt={token:null,error:null,loading:!1,username:null,user_id:0},ht=function(e,t){return dt(e,{error:null,loading:!0})},gt=function(e,t){return dt(e,{token:t.token,username:t.username,user_id:t.user_id,success_message:t.success_message,error:null,loading:!1})},ft=function(e,t){return dt(e,{success_message:null,error:t.error,loading:!1})},bt=function(e,t){return dt(e,{token:null,user_id:0})},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return ht(e);case"AUTH_SUCCESS":return gt(e,t);case"AUTH_FAIL":return ft(e,t);case"AUTH_LOGOUT":return bt(e);default:return e}},Et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||st.d,wt=Object(st.c)({auth:vt}),_t=Object(st.e)(wt,Et(Object(st.a)(ut.a))),St=r.a.createElement(p.a,{store:_t},r.a.createElement(it,null));l.a.render(St,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[133,1,2]]]);
//# sourceMappingURL=main.4fa532f0.chunk.js.map