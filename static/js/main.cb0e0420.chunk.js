(this["webpackJsonpapollo-blog"]=this["webpackJsonpapollo-blog"]||[]).push([[0],{130:function(e,t,a){e.exports=a(263)},25:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),c=a(6),s=a(7),i=a(10),u=a(8),d=a(9),m=a(17),p=a(12),h=(a(139),a(265)),v=a(11),g=a.n(v),f=a(117),E="http://127.0.0.1:8000/api/";Object(f.a)("endpoint");var w=(E="/cloudsql/apollo-blog-269301:us-central1:apollo-psql/")+"all-articles/",b=function(e){return E+"article/"+e+"/"},_=E+"create-article/",k=E+"create-email/",y=E+"create-comment/",S=E+"login/",C=E+"signup/",O=E+"create-comment-upvote/",j=function(e){return E+"remove-comment-upvote/"+e},A=function(e){return E+"comment-upvote/"+e+"/"},D=E+"create-comment-downvote/",T=function(e){return E+"remove-comment-downvote/"+e},x=function(e){return E+"comment-downvote/"+e+"/"},N=E+"create-article-upvote/",U=function(e){return E+"remove-article-upvote/"+e},I=function(e){return E+"article-upvote/"+e+"/"},P=E+"create-article-downvote/",F=function(e){return E+"remove-article-downvote/"+e},z=function(e){return E+"article-downvote/"+e+"/"},L=E+"password-reset/",G=function(e,t,a){return{type:"AUTH_SUCCESS",token:e,username:t,user_id:a}},B=function(e){return{type:"AUTH_FAIL",error:e}},R=function(e){return function(t){setTimeout((function(){t({type:"AUTH_LOGOUT"})}),1e3*e)}},V=a(18),H=a(271),q=a(273),M=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.error,t.loading,t.authenticated),n=t.username;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{expand:"lg",className:"bg-navbar"},r.a.createElement(h.a,null,r.a.createElement(H.a.Brand,{onClick:function(){return e.props.history.push("/")},style:{cursor:"pointer"}},r.a.createElement("h4",{className:"verdana-font "},"Apollo")),r.a.createElement(H.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(H.a.Collapse,{className:"justify-content-end ",id:"basic-navbar-nav"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a.Text,null,r.a.createElement(q.a.Link,{href:"/profile"},"Hello, ",n,"!")),r.a.createElement(H.a.Text,null,r.a.createElement(q.a.Link,{onClick:function(){return e.props.logout()}},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a.Text,null,r.a.createElement(q.a.Link,{href:"/login"},"Login")),r.a.createElement(H.a.Text,null,r.a.createElement(q.a.Link,{href:"/signup"},"Signup")))))),r.a.createElement("br",null))}}]),t}(r.a.Component),Y=Object(V.f)(Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,authenticated:null!==e.auth.token,username:e.auth.username}}),(function(e){return{logout:function(t){return e((function(e){localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("username"),localStorage.removeItem("staff"),localStorage.removeItem("user_id"),e({type:"AUTH_LOGOUT"})}))}}}))(M));a(25);var W=function(){return r.a.createElement(H.a,{sticky:"bottom",className:"footer"},r.a.createElement(h.a,null,r.a.createElement(H.a.Text,null,"\xa9 ",(new Date).getFullYear()," - Apollo"),r.a.createElement(q.a,null,r.a.createElement(H.a.Text,null,r.a.createElement(q.a.Link,{href:"#"},"Legal")),r.a.createElement(H.a.Text,null,r.a.createElement(q.a.Link,{href:"#"},"Privacy")),r.a.createElement(H.a.Text,null,r.a.createElement(q.a.Link,{href:"/careers"},"Careers")))))},J=function(e){return e.children},X=a(267),$=a(122),K=a(276),Q=a(269),Z=a(277),ee=a(270),te=a(268);var ae=function(){return r.a.createElement("svg",{width:"29",height:"29",class:"q"},r.a.createElement("path",{d:"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"}))};var ne=function(){return r.a.createElement("svg",{width:"29",height:"29",class:"q"},r.a.createElement("path",{d:"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"}))},re=a(272),oe=a(274),le=a(22),ce=a(266);var se=function(){return r.a.createElement(ce.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))},ie=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,email:"",email_submitted:null},a.handlePostEmail=function(){a.setState({loading:!0,error:null});var e=new FormData;e.append("email",a.state.email),g.a.post(k,e).then((function(e){a.setState({email_submitted:!0,loading:!1})})).catch((function(e){a.setState({error:e.response.data,loading:!1})}))},a.handleEmailValidated=function(){var e=a.state.email,t=e.length>5,n=e.includes("@"),r=e.includes(".");return!(t&&n&&r)},a.handleEmail=function(e){a.setState({email:e.target.value})},a.handleClosePopover=function(){alert("blurred"),document.getElementById("emailBadge").click()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error,a=e.loading,n=e.email_submitted,o=r.a.createElement(re.a,{id:"popover-basic",className:"max-width-800px"},r.a.createElement(re.a.Title,{as:"h3"},"Email Updates"),r.a.createElement(re.a.Content,null,r.a.createElement(X.a,null,r.a.createElement($.a,null,r.a.createElement(ee.a.Control,{className:"width-250px",type:"email",placeholder:"Enter email",onChange:this.handleEmail}),t&&r.a.createElement("small",{style:{color:"red"}},t)),r.a.createElement($.a,null,n?r.a.createElement(le.a,{className:"text-success font-size-2-5em"}):a?r.a.createElement(te.a,{disabled:!0,variant:"primary",type:"submit",onClick:this.handlePostEmail,className:"float-right"},r.a.createElement(se,null)):r.a.createElement(te.a,{disabled:this.handleEmailValidated(),variant:"primary",type:"submit",onClick:this.handlePostEmail,className:"float-right"},"Submit")))));return r.a.createElement(oe.a,{trigger:"click",placement:this.props.direction,overlay:o},r.a.createElement(Q.a,{id:"emailBadge",className:"font-size-10px",style:{cursor:"pointer"}},this.props.text))}}]),t}(r.a.Component);var ue=function(e){var t="";return e.classes&&(t=e.classes),r.a.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:e.text}})},de=a(275),me=a(69),pe=a.n(me),he=(a(114),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={upvoted:!1,upvote_id:null,number_of_upvotes:null,upvotes:null},a.handleGetUpvotes=function(){g.a.get(A(a.props.comment_id)).then((function(e){e.data.forEach((function(e){e.user===parseInt(a.props.user_id)&&a.setState({upvoted:!0,upvote_id:e.id})})),a.setState({number_of_upvotes:e.data.length,upvotes:e.data})})).catch((function(e){console.log("error: "+e)}))},a.handleRemoveUpvote=function(){var e="Token "+a.props.token;g.a.delete(j(a.state.upvote_id),{headers:{Authorization:e}}).then((function(e){console.log("removed upvote "),a.setState({upvoted:!1,number_of_upvotes:a.state.number_of_upvotes-1})})).catch((function(e){console.log("error removing upvote"+e)})),a.props.comment_upvoted(!1)},a.handleCreateUpvote=function(){var e="Token "+a.props.token,t=new FormData;t.append("comment",a.props.comment_id),t.append("user",a.props.user_id),g.a.post(O,t,{headers:{Authorization:e}}).then((function(e){a.handleGetUpvotes()})).catch((function(e){console.log("error creating upvote: "+e.code)})),a.props.comment_upvoted(!0)},a.handleUpvoteClick=function(e){0===a.props.user_id?alert("You need to sign in to do this."):a.state.upvoted?a.handleRemoveUpvote():a.handleCreateUpvote()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleGetUpvotes()}},{key:"render",value:function(){var e=this.state,t=e.upvoted,a=e.number_of_upvotes,n=this.props;n.comment_id,n.user_id;return this.props.comment_downvoted&&t&&this.handleRemoveUpvote(),r.a.createElement(Q.a,{onClick:this.handleUpvoteClick,className:t?"cursor-pointer color-green ":"cursor-pointer"},r.a.createElement(le.c,{size:25})," ",a)}}]),t}(r.a.Component)),ve=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id}}))(he),ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={downvoted:!1,downvote_id:null,number_of_downvotes:null,downvotes:null},a.handleGetDownvotes=function(){g.a.get(x(a.props.comment_id)).then((function(e){e.data.forEach((function(e){e.user===parseInt(a.props.user_id)&&a.setState({downvoted:!0,downvote_id:e.id})})),a.setState({number_of_downvotes:e.data.length,downvotes:e.data})})).catch((function(e){console.log("error: "+e)}))},a.handleRemoveDownvote=function(){var e="Token "+a.props.token;g.a.delete(T(a.state.downvote_id),{headers:{Authorization:e}}).then((function(e){console.log("removed downvote "),a.setState({downvoted:!1,number_of_downvotes:a.state.number_of_downvotes-1})})).catch((function(e){console.log("error removing downvote"+e)})),a.props.comment_downvoted(!1)},a.handleCreateDownvote=function(){var e="Token "+a.props.token,t=new FormData;t.append("comment",a.props.comment_id),t.append("user",a.props.user_id),g.a.post(D,t,{headers:{Authorization:e}}).then((function(e){a.handleGetDownvotes()})).catch((function(e){console.log("error creating upvote: "+e.code)})),a.props.comment_downvoted(!0)},a.handleDownvoteClick=function(e){a.state.downvoted?a.handleRemoveDownvote():a.handleCreateDownvote()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleGetDownvotes()}},{key:"render",value:function(){var e=this.state,t=e.downvoted,a=e.number_of_downvotes,n=this.props;n.comment_id,n.user_id;return this.props.comment_upvoted&&t&&this.handleRemoveDownvote(),r.a.createElement(Q.a,{onClick:this.handleDownvoteClick,className:this.state.downvoted?"cursor-pointer color-red ":"cursor-pointer"},r.a.createElement(le.b,{size:25})," ",a)}}]),t}(r.a.Component),fe=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id}}))(ge),Ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comment_upvoted:!1,comment_downvoted:!1},a.handleCommentUpvoteClick=function(e){console.log("handleCommentUpvoteClick value : "+e),a.setState({comment_upvoted:e})},a.handleCommentDownvoteClick=function(e){console.log("handleCommentDownvoteClick value : "+e),a.setState({comment_downvoted:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.comment_upvoted,a=e.comment_downvoted;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,null,r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,null,this.props.comment.author),r.a.createElement(de.a.Subtitle,{className:"mb-2 text-muted"},new Date(this.props.comment.created_date).toDateString()),r.a.createElement(de.a.Text,null,r.a.createElement(ue,{text:this.props.comment.body})),r.a.createElement(ve,{comment_id:this.props.comment.id,comment_downvoted:a,comment_upvoted:this.handleCommentUpvoteClick})," ",r.a.createElement(fe,{comment_id:this.props.comment.id,comment_upvoted:t,comment_downvoted:this.handleCommentDownvoteClick}))),r.a.createElement("hr",null))}}]),t}(r.a.Component),we=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:null,commenter_name:"",comment_body:"",comment_submitted:!1,comment_upvoted:!1,comment_downvoted:!1},a.handleCommentBody=function(e){a.setState({comment_body:e})},a.handleCommenterName=function(e){a.setState({commenter_name:e.target.value})},a.handlePostComment=function(){a.setState({loading:!0});var e=new FormData;e.append("body",a.state.comment_body),e.append("author",a.state.commenter_name),e.append("article",a.props.article_id),g.a.post(y,e).then((function(e){console.log("comment submitted"),a.setState({loading:!1,commenter_name:"",comment_body:"",comment_submitted:!0})})).catch((function(e){a.setState({error:e.response.data,loading:!1})}))},a.handleValidateComment=function(){return!(a.state.comment_body.length>1&&a.state.commenter_name.length>1)},a.handleCommentUpvoteClick=function(e){console.log("handleCommentUpvoteClick value : "+e),a.setState({comment_upvoted:e})},a.handleCommentDownvoteClick=function(e){console.log("handleCommentDownvoteClick value : "+e),a.setState({comment_downvoted:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=(e.error,e.comment_body),n=e.commenter_name,o=e.comment_submitted,l=(e.comment_downvoted,e.comment_upvoted,this.props),c=l.comments;l.user_id;return console.log(c),r.a.createElement("div",null,r.a.createElement("h2",{className:"tahoma-font"},"Article Comments"),r.a.createElement("hr",null),r.a.createElement(h.a,null,c?c.map((function(e){return r.a.createElement(Ee,{comment:e})})):r.a.createElement(Z.a,{variant:"dark"},"There are no comments yet! Leave one below"),r.a.createElement(de.a,null,r.a.createElement(de.a.Header,{as:"h3"},"Add a Comment"),r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Text,null,r.a.createElement(ee.a,null,r.a.createElement(ee.a.Row,null,r.a.createElement(ee.a.Label,null,"Name:"),r.a.createElement(ee.a.Control,{type:"text",placeholder:"Enter Name",value:n,onChange:this.handleCommenterName})),r.a.createElement("br",null),r.a.createElement(ee.a.Row,null,r.a.createElement($.a,null,r.a.createElement(ee.a.Label,null,"Comment:"),r.a.createElement(pe.a,{placeholder:"Start Writing...",onChange:this.handleCommentBody,value:a}))))),t?r.a.createElement(te.a,{disabled:!0,variant:"primary"},r.a.createElement(se,null)):r.a.createElement(te.a,{onClick:this.handlePostComment,disabled:this.handleValidateComment(),variant:"primary"},"Add Comment"))),r.a.createElement("br",null),o&&r.a.createElement(Z.a,{variant:"success"},"You successfully added a comment!")))}}]),t}(r.a.Component),be=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,authenticated:null!==e.auth.token,user_id:e.auth.user_id}}))(we),_e=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={upvoted:!1,upvote_id:null,number_of_upvotes:null,upvotes:null},a.handleGetUpvotes=function(){g.a.get(I(a.props.article_id)).then((function(e){e.data.forEach((function(e){e.user===parseInt(a.props.user_id)&&a.setState({upvoted:!0,upvote_id:e.id})})),a.setState({number_of_upvotes:e.data.length,upvotes:e.data})})).catch((function(e){console.log("error: "+e)}))},a.handleRemoveUpvote=function(){var e="Token "+a.props.token;g.a.delete(U(a.state.upvote_id),{headers:{Authorization:e}}).then((function(e){a.handleGetUpvotes(),console.log("removed upvote "),a.setState({upvoted:!1})})).catch((function(e){console.log("error removing upvote"+e)})),a.props.article_upvoted(!1)},a.handleCreateUpvote=function(){var e="Token "+a.props.token,t=new FormData;t.append("article",a.props.article_id),t.append("user",a.props.user_id),g.a.post(N,t,{headers:{Authorization:e}}).then((function(e){a.handleGetUpvotes()})).catch((function(e){console.log("error creating upvote: "+e.code)})),a.props.article_upvoted(!0)},a.handleUpvoteClick=function(e){0===a.props.user_id?alert("You need to sign in to do this."):a.state.upvoted?a.handleRemoveUpvote():a.handleCreateUpvote()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleGetUpvotes()}},{key:"render",value:function(){var e=this.state,t=e.upvoted,a=e.number_of_upvotes,n=this.props;n.comment_id,n.user_id;return this.props.article_downvoted&&t&&this.handleRemoveUpvote(),r.a.createElement(Q.a,{onClick:this.handleUpvoteClick,className:this.state.upvoted?"cursor-pointer color-green ":"cursor-pointer"},r.a.createElement(le.c,{size:25})," ",a)}}]),t}(r.a.Component),ke=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id}}))(_e),ye=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={downvoted:!1,downvote_id:null,number_of_downvotes:null,downvotes:null},a.handleGetDownvotes=function(){g.a.get(z(a.props.article_id)).then((function(e){console.log("response: "+e.data),e.data.forEach((function(e){e.user===parseInt(a.props.user_id)&&a.setState({downvoted:!0,downvote_id:e.id})})),a.setState({number_of_downvotes:e.data.length,downvotes:e.data})})).catch((function(e){console.log("error: "+e)}))},a.handleRemoveDownvote=function(){var e="Token "+a.props.token;g.a.delete(F(a.state.downvote_id),{headers:{Authorization:e}}).then((function(e){a.handleGetDownvotes(),console.log("removed downvote "),a.setState({downvoted:!1})})).catch((function(e){console.log("error removing downvote"+e)})),a.props.article_downvoted(!1)},a.handleCreateDownvote=function(){var e="Token "+a.props.token,t=new FormData;t.append("article",a.props.article_id),t.append("user",a.props.user_id),g.a.post(P,t,{headers:{Authorization:e}}).then((function(e){a.handleGetDownvotes()})).catch((function(e){console.log("error creating upvote: "+e.code)})),a.props.article_downvoted(!0)},a.handleDownvoteClick=function(e){0===a.props.user_id?alert("You need to sign in to do this."):a.state.downvoted?a.handleRemoveDownvote():a.handleCreateDownvote()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleGetDownvotes()}},{key:"render",value:function(){var e=this.state,t=e.downvoted,a=e.number_of_downvotes,n=this.props;n.comment_id,n.user_id;return this.props.article_upvoted&&t&&this.handleRemoveDownvote(),r.a.createElement(Q.a,{onClick:this.handleDownvoteClick,className:this.state.downvoted?"cursor-pointer color-red ":"cursor-pointer"},r.a.createElement(le.b,{size:25})," ",a)}}]),t}(r.a.Component),Se=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,user_id:e.auth.user_id}}))(ye),Ce=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,error:null,article_data:[],article_upvoted:!1,article_downvoted:!1},a.handleGetArticle=function(){var e=a.props.match.params.article_id;g.a.get(b(e)).then((function(e){console.log(e.data),a.setState({loading:!1,article_data:e.data})})).catch((function(e){a.setState({error:e,loading:!1})}))},a.handleArticleUpvoteClick=function(e){console.log("handleArticleUpvoted value : "+e),a.setState({article_upvoted:e})},a.handleArticleDownvoteClick=function(e){console.log("handleArticleDownvoted value : "+e),a.setState({article_downvoted:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.handleGetArticle()}},{key:"render",value:function(){var e=this,t=this.state,a=t.article_data,n=t.loading,o=t.article_upvoted,l=t.article_downvoted,c=this.props.authenticated,s=new Date(a.created_date).toDateString(),i=document.getElementById("apollo_widget_left_sidebar");document.getElementsByTagName("body")[0].onscroll=function(e){document.documentElement.scrollTop>=70?i.classList.add("AfterScroll"):i.classList.remove("AfterScroll")};var u="https://twitter.com/intent/tweet?text=check%20out%20this%20new%20cryptocurrency%20startup!%20https%3A%2F%2Flocalhost%3A3000%2Fblog%2Farticle%2F"+a.id,d="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Flocalhost%3A3000%2Fblog%2Farticle%2F"+a.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(X.a,null,r.a.createElement($.a,{xs:2},r.a.createElement(K.a,{variant:"flush",className:"sticky-top BeforeScroll "},r.a.createElement("div",{id:"apollo_widget_left_sidebar"},r.a.createElement(K.a.Item,{className:"bg-app"},r.a.createElement("h4",{className:"verdana-font",onClick:function(){return e.props.history.push("/")},style:{cursor:"pointer"}},"Apollo")),!c&&r.a.createElement(K.a.Item,{className:"bg-app"},r.a.createElement(m.b,{to:"/signup",className:"article-link"},r.a.createElement(Q.a,null,"Create an account")),r.a.createElement(ie,{text:"Get email updates",direction:"right"})),!n&&r.a.createElement(K.a.Item,{className:"bg-app"},r.a.createElement("div",{id:"sm_links_left_sidebar"},r.a.createElement(ke,{article_id:a.id,article_downvoted:l,article_upvoted:this.handleArticleUpvoteClick}),r.a.createElement(Se,{article_id:a.id,article_upvoted:o,article_downvoted:this.handleArticleDownvoteClick}))),r.a.createElement(K.a.Item,{className:"bg-app"},r.a.createElement("a",{href:u},r.a.createElement(ae,null)),r.a.createElement("a",{href:d},r.a.createElement(ne,null)))))),r.a.createElement($.a,{xs:8},n?r.a.createElement(se,null):r.a.createElement(r.a.Fragment,null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"times-new-roman-font"},a.title),r.a.createElement("h6",{className:"padding-left-10px"},"By ",a.author,", ",r.a.createElement(Q.a,null,s),r.a.createElement("div",{className:"float-right"},r.a.createElement("a",{href:u},r.a.createElement(ae,null)),r.a.createElement("a",{href:d},r.a.createElement(ne,null)))),r.a.createElement("hr",null),r.a.createElement(ue,{text:a.body,classes:"times-new-roman-font"})):r.a.createElement(Z.a,{variant:"dark"},"There was an issue loading this article"),r.a.createElement("br",null),!c&&r.a.createElement("div",{style:{backgroundColor:"lightgrey",paddingTop:"8px",paddingBottom:"3px",paddingLeft:"8px",borderRadius:"4px"}},r.a.createElement("text",null,"Like what you see? Subscribe for updates on our website"),r.a.createElement(ee.a,null,r.a.createElement(ee.a.Row,null,r.a.createElement($.a,null,r.a.createElement(ee.a.Control,{type:"email",placeholder:"Enter email"})),r.a.createElement($.a,null,r.a.createElement(te.a,{variant:"primary",type:"submit"},"Submit"))),r.a.createElement("small",null,"We will never sell your information ")),r.a.createElement("br",null)),r.a.createElement(be,{comments:a.comments,article_id:this.props.match.params.article_id}))))))}}]),t}(r.a.Component),Oe=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,authenticated:null!==e.auth.token}}))(Ce),je=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!0,articles:[],pinned_article:null},a.handleGetArticles=function(){g.a.get(w).then((function(e){var t=e.data,n=[];for(var r in t)if(e.data[r].pinned){n.id=t[r].id,n.title=t[r].title,n.author=t[r].author,n.created_date=t[r].created_date,n.body=t[r].body.substring(0,500);break}a.setState({loading:!1,articles:e.data,pinned_article:n})})).catch((function(e){a.setState({error:e,loading:!1})}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.handleGetArticles()}},{key:"render",value:function(){var e=this.state,t=e.loading,a=(e.error,e.articles),n=e.pinned_article,o=(e.username,this.props),l=o.authenticated,c=o.token;return console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Brand,null,r.a.createElement("h1",{className:"verdana-font"},"The Apollo Blog")),r.a.createElement(H.a.Text,null,r.a.createElement("h5",{className:"verdana-font"},"Updates, news, and stories from the future of ecommerce")))),r.a.createElement(X.a,null,r.a.createElement($.a,null,l?"8eb05e1e2a096148f4686c071328cd1fbdec1904"===c&&r.a.createElement("div",{className:"float-right"},r.a.createElement(m.b,{to:"/create-article"},r.a.createElement(te.a,{variant:"outline-secondary"},"Write an Article "))):r.a.createElement("div",{className:"float-right"},r.a.createElement(ie,{text:"Sign up for email updates",direction:"left"})))),r.a.createElement("hr",null),r.a.createElement(K.a,{variant:"flush",className:"bg-app"},null!==n&&r.a.createElement(K.a.Item,{className:"bg-app"},r.a.createElement(m.b,{to:"blog/article/"+n.id,className:"article-link"},r.a.createElement(de.a,{className:"width-100-percent ",id:n.id},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,null,n.title," ",r.a.createElement(le.d,{color:"royalblue",className:"float-right font-size-1-25em"})),r.a.createElement(de.a.Subtitle,{className:"mb-2 text-muted"},"By ",n.author,", ",r.a.createElement(Q.a,null,new Date(n.created_date).toDateString()," ")),r.a.createElement(de.a.Text,null,r.a.createElement(ue,{text:n.body+"..."})))))),!0===t?r.a.createElement(se,null):a.length>0?a.map((function(e){return r.a.createElement(K.a.Item,{className:"bg-app"},r.a.createElement(m.b,{to:"blog/article/"+e.id,className:"article-link"},r.a.createElement(de.a,{className:"width-100-percent",id:e.id},r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Title,null,e.title),r.a.createElement(de.a.Subtitle,{className:"mb-2 text-muted"},"By ",e.author,", ",r.a.createElement(Q.a,null,new Date(e.created_date).toDateString()," ")),r.a.createElement(de.a.Text,null,r.a.createElement(ue,{text:e.body.substring(0,200)+"..."}))))))})):r.a.createElement(Z.a,{variant:"dark"},"There was an error retrieving our articles")))}}]),t}(r.a.Component),Ae=Object(p.b)((function(e){return{token:e.auth.token,authenticated:null!==e.auth.token,username:e.auth.username}}))(je),De=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,author:"",title:"",body:"",article_submitted:!1,countdown:3},a.handleAuthor=function(e){a.setState({author:e.target.value})},a.handleTitle=function(e){a.setState({title:e.target.value})},a.handleBody=function(e){a.setState({body:e})},a.submitForm=function(){var e=new FormData;e.append("author",a.props.username),e.append("title",a.state.title),e.append("body",a.state.body);var t="Token "+a.props.token;console.log("token : "+t),g.a.post(_,e,{headers:{Authorization:t}}).then((function(e){a.setState({article_submitted:!0}),console.log(e.data)})).catch((function(e){console.log(e),a.setState({error:e,loading:!1})}))},a.countdown=function(e){e-=1,a.setState({countdown:e})},a.handleValidated=function(){return!(a.state.title.length>1&&a.state.body.length>1)},a.modules={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},a.formats=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"],a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({author:this.props.username,loading:!1})}},{key:"render",value:function(){var e=this.state,t=(e.author,e.title,e.body,e.article_submitted),a=e.countdown,n=e.error,o=this.props,l=o.authenticated;o.token;return r.a.createElement(h.a,null,r.a.createElement(X.a,null,r.a.createElement($.a,{xs:2}),r.a.createElement($.a,{xs:8},l?r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,null,r.a.createElement(de.a.Header,{as:"h3"},"Add an Article"),r.a.createElement(de.a.Body,null,r.a.createElement(de.a.Text,null,r.a.createElement(ee.a,null,r.a.createElement(ee.a.Row,null,r.a.createElement(ee.a.Label,null,"Article Title:"),r.a.createElement(ee.a.Control,{required:!0,type:"text",placeholder:"Enter Title",onChange:this.handleTitle})),r.a.createElement("br",null),r.a.createElement(ee.a.Row,null,r.a.createElement($.a,null,r.a.createElement(ee.a.Label,null,"Article Body:"),r.a.createElement(pe.a,{required:!0,placeholder:"Start Writing...",onChange:this.handleBody,className:"editor_form_control",modules:this.modules,formats:this.formats,theme:"snow"}))))),r.a.createElement("br",null),r.a.createElement(te.a,{variant:"primary",onClick:this.submitForm,disabled:this.handleValidated()},"Add Article"))),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Z.a,{variant:"danger"},"Nice try buddy")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("meta",{"http-equiv":"refresh",content:"3;url=/"}),r.a.createElement(Z.a,{variant:"success"},"You successfully created an article! You will be redirected in ",a," seconds"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{variant:"danger"},"How did you get here? oops. ",r.a.createElement("a",{href:"/"},"go home"))))))}}]),t}(r.a.Component),Te=Object(V.f)(Object(p.b)((function(e){return console.log(e.auth.token),{loading:e.auth.loading,error:e.auth.error,token:e.auth.token,username:e.auth.username,authenticated:null!==e.auth.token}}))(De)),xe=a(123),Ne=a(124),Ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleUsername=function(e){a.setState({username:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.validateForm=function(){return console.log(a.state.email.length),console.log(a.state.email.length>0&&a.state.password.length>8),a.state.email.length>0&&a.state.password.length>8},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login(n,r)},a.handleValidated=function(){return a.state.username.length>1&&a.state.password.length>1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,a=(e.loading,e.token),n=this.state,o=n.username,l=n.password;if(a)return r.a.createElement(V.a,{to:"/"});if(t)var c=t.response.data;return r.a.createElement("div",{className:"account-form bg-app"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Login "),r.a.createElement("hr",null),r.a.createElement(xe.a,{controlId:"email",bsSize:"large"},"Username",r.a.createElement(Ne.a,{required:!0,autoFocus:!0,value:o,onChange:this.handleUsername})),r.a.createElement(xe.a,{controlId:"password",bsSize:"large"},"Password",r.a.createElement(Ne.a,{required:!0,value:l,onChange:this.handlePassword,type:"password"})),r.a.createElement(te.a,{block:!0,bsSize:"large",disabled:!this.handleValidated(),type:"submit"},"Login"),r.a.createElement(Q.a,null," New to Apollo? ",r.a.createElement(m.c,{to:"/signup"},"Sign Up")," "),r.a.createElement("br",null),r.a.createElement(Q.a,null," ",r.a.createElement(m.c,{to:"/reset-password"},"Forgot your password? ")," "),r.a.createElement("br",null),t&&r.a.createElement(Z.a,{variant:"danger"},Object.keys(c).map((function(e){return r.a.createElement("li",null,c[e][0])})))))}}]),t}(r.a.Component),Ie=Object(V.f)(Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{login:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),g.a.post(S,{username:e,password:t}).then((function(t){var n=t.data.key,r=t.data.user_id,o=new Date((new Date).getTime()+36e5);localStorage.setItem("user_id",r),localStorage.setItem("username",e),localStorage.setItem("token",n),localStorage.setItem("expirationDate",o),a(G(n,e,r)),a(R(1e4))})).catch((function(e){a(B(e))}))}}(t,a))}}}))(Ue)),Pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:null,error:null,email:"",username:"",password:"",confirm_password:"",passwords_match:!0},a.handleEmail=function(e){a.setState({email:e.target.value})},a.handleUsername=function(e){a.setState({username:e.target.value})},a.handlePassword=function(e){a.state.confirm_password!==e.target.value?a.setState({passwords_match:!1,password:e.target.value}):a.setState({passwords_match:!0,password:e.target.value})},a.handleConfirmPassword=function(e){a.state.password!==e.target.value?a.setState({passwords_match:!1,confirm_password:e.target.value}):a.setState({passwords_match:!0,confirm_password:e.target.value})},a.handleValidated=function(){var e=a.state.email.length>0,t=a.state.username.length>0,n=a.state.password.length>8,r=a.state.confirm_password.length>8,o=a.state.password_valid===a.state.confirm_password_valid;return e&&t&&n&&r&&o&&a.state.passwords_match},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.username,o=t.password,l=t.confirm_password;console.log(n),a.props.signup(r,n,o,l)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.username,n=e.password,o=e.confirm_password,l=e.passwords_match,c=this.props.error;if(c)var s=c.response.data;return console.log("error: ",c),r.a.createElement("div",{className:"account-form bg-app"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Signup "),r.a.createElement("hr",null),r.a.createElement(xe.a,{controlId:"email",bsSize:"large"},"Email",r.a.createElement(Ne.a,{required:!0,autoFocus:!0,type:"email",value:t,onChange:this.handleEmail})),r.a.createElement(xe.a,{controlId:"username",bsSize:"large"},"Username",r.a.createElement(Ne.a,{required:!0,value:a,onChange:this.handleUsername})),r.a.createElement(xe.a,{controlId:"password",bsSize:"large"},"Password",r.a.createElement(Ne.a,{required:!0,value:n,onChange:this.handlePassword,type:"password"})),r.a.createElement(xe.a,{controlId:"confirm_password",bsSize:"large"},"Confirm Password",r.a.createElement(Ne.a,{required:!0,value:o,onChange:this.handleConfirmPassword,type:"password"})),r.a.createElement(te.a,{block:!0,bsSize:"large",disabled:!this.handleValidated(),type:"submit"},"Signup"),r.a.createElement(Q.a,null," Already have an account? ",r.a.createElement(m.c,{to:"/login"},"Login ")," "),!l&&r.a.createElement(Z.a,{variant:"danger"},"Your passwords must match"),c&&r.a.createElement(Z.a,{variant:"danger"},Object.keys(s).map((function(e){return r.a.createElement("li",null,s[e][0])})))))}}]),t}(r.a.Component),Fe=Object(p.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,token:e.auth.token}}),(function(e){return{signup:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),g.a.post(C,{username:e,email:t,password1:a,password2:n}).then((function(t){var a=t.data.key,n=new Date((new Date).getTime()+864e5);localStorage.setItem("token",a),localStorage.setItem("expirationDate",n),r(G(a,e,!1)),r(R(3600))})).catch((function(e){r(B(e))}))}}(t,a,n,r))}}}))(Pe),ze=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:null,loading:!1,old_password:"",new_password1:"",new_password2:"",reset_password:null,passwords_match:!0},a.handleOldPassword=function(e){console.log("old password :"+e.target.value),a.setState({old_password:e.target.value})},a.handlePassword=function(e){a.state.confirm_password!=e.target.value?a.setState({passwords_match:!1,new_password1:e.target.value}):a.setState({passwords_match:!0,new_password1:e.target.value})},a.handleConfirmPassword=function(e){a.state.password!=e.target.value?a.setState({passwords_match:!1,new_password2:e.target.value}):a.setState({passwords_match:!0,new_password2:e.target.value})},a.handleChangePassword=function(){a.setState({loading:!0});var e=new FormData;e.append("new_password1",a.state.new_password1),e.append("new_password2",a.state.new_password2),e.append("old_password",a.state.old_password);var t=!0,n=!1,r=void 0;try{for(var o,l=e.values()[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var c=o.value;console.log("value: "+c)}}catch(i){n=!0,r=i}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}var s="Token "+a.props.token;g.a.post("http://127.0.0.1:8000/rest-auth/password/change/",e,{headers:{Authorization:s}}).then((function(e){console.log("response: "+e.data),a.setState({loading:!1,error:null,reset_password:e.data.detail,passwords_match:!0})})).catch((function(e){console.log("error: "+e.response.data),a.setState({loading:!1,error:e.response.data,passwords_match:!0})}))},a.handleValidated=function(){return a.state.old_password.length>1&&a.state.new_password2.length>1&&a.state.new_password1.length>1&&a.state.new_password2==a.state.new_password1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error,a=e.loading,n=(e.new_password1,e.new_password2,e.old_password,e.reset_password),o=e.passwords_match;this.props.token;return r.a.createElement(h.a,null,r.a.createElement("h5",null,"Change Your Password"),r.a.createElement("hr",null),r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Label,null,"Old Password"),r.a.createElement(ee.a.Control,{type:"password",placeholder:"Enter old password",onChange:this.handleOldPassword})),r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Label,null,"New Password"),r.a.createElement(ee.a.Control,{type:"password",placeholder:"New Password",onChange:this.handlePassword})),r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Label,null,"Confirm New Password"),r.a.createElement(ee.a.Control,{type:"password",placeholder:"Confirm Password",onChange:this.handleConfirmPassword})),a?r.a.createElement(te.a,{block:!0,bsSize:"large",disabled:!this.handleValidated(),onClick:this.handleChangePassword},r.a.createElement(se,null)):r.a.createElement(te.a,{block:!0,bsSize:"large",disabled:!this.handleValidated(),onClick:this.handleChangePassword},"Change Your Password"),r.a.createElement("br",null),r.a.createElement("br",null),!o&&r.a.createElement(Z.a,{variant:"danger"},"Your passwords must match"),n&&r.a.createElement(Z.a,{variant:"success"},n),t&&r.a.createElement(Z.a,{variant:"danger"},Object.keys(t).map((function(e){return r.a.createElement("li",null,t[e][0])}))))}}]),t}(r.a.Component),Le=Object(p.b)((function(e){return{token:e.auth.token}}))(ze),Ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={error:null,loading:!0,account_info:[],selected_button:"change_password"},a.handleGetAccount=function(){a.setState({loading:!0}),console.log("username: "+a.props.username);var e=new FormData;e.append("username","connordavidson"),e.append("first_name","Connor"),e.append("last_name","Davidson");var t=!0,n=!1,r=void 0;try{for(var o,l=e.values()[Symbol.iterator]();!(t=(o=l.next()).done);t=!0){var c=o.value;console.log("value: "+c)}}catch(i){n=!0,r=i}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}var s="Token "+a.props.token;console.log("auth token account info: "+s),g.a.post("http://127.0.0.1:8000/rest-auth/user/",e,{headers:{Authorization:s}}).then((function(e){console.log("response: "+e),a.setState({loading:!1})})).catch((function(e){console.log("error: "+e.data),a.setState({loading:!1,erorr:e.data})}))},a.handleProfileInfo=function(){switch(a.state.selected_button){case"change_password":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,null));case"email_preferences":return r.a.createElement(h.a,null,r.a.createElement("h5",null,"Change Your Email Preferences"),r.a.createElement("hr",null),r.a.createElement(ee.a.Check,{type:"checkbox",label:"New product alerts"}),r.a.createElement("br",null),r.a.createElement(ee.a.Check,{type:"checkbox",label:"Updates on the progress of our website"}),r.a.createElement("br",null),r.a.createElement(ee.a.Check,{type:"checkbox",label:"Hot Deals"}));default:return r.a.createElement("h5",null,"default case")}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("token CDM : "+this.props.token),console.log("username CDM: "+this.props.username),this.setState({loading:!0})}},{key:"render",value:function(){var e=this.state,t=(e.error,e.loading,e.account_info,e.selected_button),a=this.props,n=a.username,o=a.authenticated;a.token;return console.log(t),r.a.createElement(r.a.Fragment,null,o?r.a.createElement(h.a,null,r.a.createElement("h4",null,"Account Information for ",n),r.a.createElement("hr",null),r.a.createElement(X.a,null,r.a.createElement($.a,{sm:{span:3}},r.a.createElement(de.a,null,r.a.createElement(K.a,{variant:"flush"},r.a.createElement(K.a.Item,{active:"change_password"!==t,style:{cursor:"pointer"}},"Change Password")))),r.a.createElement($.a,{sm:{span:6}},this.handleProfileInfo()))):r.a.createElement("h5",null,"how'd you get here??"))}}]),t}(r.a.Component),Be=Object(p.b)((function(e){return{username:e.auth.username,token:e.auth.token,authenticated:null!==e.auth.token}}))(Ge),Re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,error:null,email:"",email_submitted:null,message:null},a.handleEmail=function(e){console.log(e.target.value),a.setState({email:e.target.value})},a.handleValidated=function(){return!(a.state.email.length>1)},a.handleSubmit=function(){a.setState({loading:!0});var e=new FormData;e.append("email",a.state.email),g.a.post(L,e).then((function(e){console.log(e),a.setState({email_submitted:!0,loading:!1,message:e.data.message})})).catch((function(e){console.log(e),a.setState({error:e.response.data,loading:!1})}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=(e.error,e.email),n=e.email_submitted,o=e.message;return r.a.createElement("div",{className:"account-form bg-app"},r.a.createElement("h3",null,"Reset Password "),r.a.createElement("hr",null),r.a.createElement(xe.a,{controlId:"email",bsSize:"large"},"Email",r.a.createElement(Ne.a,{required:!0,autoFocus:!0,value:a,onChange:this.handleEmail})),t?r.a.createElement(te.a,{block:!0,bsSize:"large",disabled:!0},r.a.createElement(se,null)):r.a.createElement(te.a,{block:!0,bsSize:"large",disabled:this.handleValidated(),onClick:this.handleSubmit},"Submit"),r.a.createElement("br",null),n&&r.a.createElement(Z.a,{variant:"success"},o))}}]),t}(r.a.Component),Ve=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,error:null,password:"",confirm_password:"",passwords_match:!0,success_message:""},a.handlePassword=function(e){a.state.confirm_password!==e.target.value?a.setState({passwords_match:!1,password:e.target.value}):a.setState({passwords_match:!0,password:e.target.value})},a.handleConfirmPassword=function(e){a.state.password!==e.target.value?a.setState({passwords_match:!1,confirm_password:e.target.value}):a.setState({passwords_match:!0,confirm_password:e.target.value})},a.handleValidated=function(){var e=a.state.password.length>8,t=a.state.confirm_password.length>8,n=a.state.password_valid===a.state.confirm_password_valid;return e&&t&&n&&a.state.passwords_match},a.handleSubmit=function(e){a.setState({loading:!0}),e.preventDefault();var t=a.props.match.params.uid,n=a.props.match.params.token;console.log(t+" : "+n);var r=new FormData;r.append("new_password1",a.state.password),r.append("new_password2",a.state.confirm_password),r.append("uid",t),r.append("token",n),g.a.post("http://127.0.0.1:8000/rest-auth/password/reset/confirm/",r).then((function(e){console.log(e),a.setState({loading:!0,success_message:e.data.detail})})).catch((function(e){console.log(e),a.setState({loading:!1,error:e.response.data})}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error,a=(e.loading,e.password),n=e.confirm_password,o=e.passwords_match,l=e.success_message;return r.a.createElement("div",{className:"account-form bg-app"},r.a.createElement("form",null,r.a.createElement("h5",null,"Enter New Password "),r.a.createElement(xe.a,{controlId:"password",bsSize:"large"},"Password",r.a.createElement(Ne.a,{required:!0,value:a,onChange:this.handlePassword,type:"password"})),r.a.createElement(xe.a,{controlId:"confirm_password",bsSize:"large"},"Confirm Password",r.a.createElement(Ne.a,{required:!0,value:n,onChange:this.handleConfirmPassword,type:"password"})),r.a.createElement(te.a,{block:!0,bsSize:"large",disabled:!this.handleValidated(),onClick:this.handleSubmit},"Change Password"),r.a.createElement("br",null),!o&&r.a.createElement(Z.a,{variant:"danger"},"Your passwords must match"),l&&r.a.createElement(Z.a,{variant:"success"},l),t&&r.a.createElement(Z.a,{variant:"danger"},Object.keys(t).map((function(e){return r.a.createElement("li",null,t[e][0])})))))}}]),t}(r.a.Component),He=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("h1",{className:"verdana-font"},"Careers with Apollo"),r.a.createElement("hr",null),r.a.createElement("p",null,"If you are interested in what we're doing here, send us an email with your resume and interests at ",r.a.createElement("a",{href:"mailto:apollo-team@apollo.com"},"apollo-team@apollo.com")))}}]),t}(r.a.Component),qe=function(){return r.a.createElement(J,null,r.a.createElement(V.b,{exact:!0,path:"/"},r.a.createElement(V.a,{to:"/blog"})),r.a.createElement(V.b,{exact:!0,path:"/blog",component:Ae}),r.a.createElement(V.b,{exact:!0,path:"/profile",component:Be}),r.a.createElement(V.b,{exact:!0,path:"/blog/article/:article_id",component:Oe}),r.a.createElement(V.b,{exact:!0,path:"/signup",component:Fe}),r.a.createElement(V.b,{exact:!0,path:"/login",component:Ie}),r.a.createElement(V.b,{exact:!0,path:"/create-article",component:Te}),r.a.createElement(V.b,{exact:!0,path:"/reset-password",component:Re}),r.a.createElement(V.b,{exact:!0,path:"/reset-password/:uid/:token",component:Ve}),r.a.createElement(V.b,{exact:!0,path:"/careers",component:He}))},Me=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.checkState()}},{key:"render",value:function(){return r.a.createElement("div",{className:"bg-app"},r.a.createElement(m.a,null,r.a.createElement(Y,null),r.a.createElement(h.a,null,r.a.createElement(qe,null)),r.a.createElement(W,null)))}}]),t}(r.a.Component),Ye=Object(p.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{checkState:function(){return e((function(e){var t=localStorage.getItem("token"),a=localStorage.getItem("username"),n=localStorage.getItem("user_id");if(void 0===t)e({type:"AUTH_LOGOUT"});else{var r=new Date(localStorage.getItem("expirationDate"));r<=new Date?e({type:"AUTH_LOGOUT"}):(e(G(t,a,n)),e(R((r.getTime()-(new Date).getTime())/1e3)))}}))}}}))(Me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var We=a(35),Je=a(128),Xe=a(129),$e=function(e,t){return Object(Xe.a)({},e,{},t)},Ke={token:null,error:null,loading:!1,username:null,user_id:0},Qe=function(e,t){return $e(e,{error:null,loading:!0})},Ze=function(e,t){return $e(e,{token:t.token,username:t.username,user_id:t.user_id,error:null,loading:!1})},et=function(e,t){return $e(e,{error:t.error,loading:!1})},tt=function(e,t){return $e(e,{token:null,user_id:0})},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Qe(e);case"AUTH_SUCCESS":return Ze(e,t);case"AUTH_FAIL":return et(e,t);case"AUTH_LOGOUT":return tt(e);default:return e}},nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||We.d,rt=Object(We.c)({auth:at}),ot=Object(We.e)(rt,nt(Object(We.a)(Je.a))),lt=r.a.createElement(p.a,{store:ot},r.a.createElement(Ye,null));l.a.render(lt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[130,1,2]]]);
//# sourceMappingURL=main.cb0e0420.chunk.js.map