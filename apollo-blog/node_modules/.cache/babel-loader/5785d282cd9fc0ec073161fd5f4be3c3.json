{"ast":null,"code":"var _jsxFileName = \"/Users/connordavidson/Desktop/apollo-blog/src/containers/ArticlePage.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Container, Badge, Col, Row, Form, ListGroup, Button, Alert } from 'react-bootstrap';\nimport axios from \"axios\";\nimport { connect } from \"react-redux\"; // found at https://www.npmjs.com/package/react-bootstrap-icons\n\nimport RegisterEmail from './Misc/RegisterEmail';\nimport RichText from './Misc/RichText';\nimport LoaderSpinner from './Misc/LoaderSpinner';\nimport CommentSection from './Misc/CommentSection';\nimport \"../content/css/App.css\";\nimport { article_url, create_comment_url } from \"../backend-urls.js\";\n\nclass ArticlePage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      //to determine if the page is loading\n      error: null,\n      //stores the error that comes from backend\n      article_data: [] //stores the article information\n\n    };\n\n    this.handleGetArticle = () => {\n      var article_id = this.props.match.params.article_id;\n      axios.get(article_url(article_id)).then(response => {\n        console.log(response.data);\n        this.setState({\n          loading: false,\n          article_data: response.data\n        });\n      }).catch(error => {\n        this.setState({\n          error: error,\n          loading: false\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    this.handleGetArticle();\n  }\n\n  // \n  // handleCommentBody = (text) => {\n  //   this.setState({\n  //     comment_body : text\n  //   })\n  // }\n  //\n  // handleCommenterName = (text) => {\n  //   this.setState({\n  //     commenter_name : text.target.value\n  //   })\n  // }\n  //\n  // handlePostComment = () => {\n  //\n  //   var comment_data = new FormData() ;\n  //   comment_data.append('body' , this.state.comment_body )\n  //   comment_data.append('author' , this.state.commenter_name)\n  //   comment_data.append('upvote', 0)\n  //   comment_data.append('downvote' , 0)\n  //\n  //   axios\n  //     .post(create_comment_url , comment_data)\n  //     .then(response => {\n  //       console.log('comment submitted')\n  //       this.setState({\n  //         loading: false ,\n  //       })\n  //     })\n  //     .catch(error => {\n  //       this.setState({\n  //         error: error.response.data ,\n  //         loading: false ,\n  //       })\n  //     })\n  // }\n  //\n  //\n  // handleValidateComment = () => {\n  //   return !(this.state.comment_body.length > 1 && this.state.commenter_name.length > 1)\n  // }\n  render() {\n    const {\n      article_id,\n      article_data,\n      loading,\n      comment_body,\n      commenter_name\n    } = this.state;\n    const {\n      authenticated\n    } = this.props; // console.log(comment_body)\n    // console.log(commenter_name)\n\n    console.log(article_data['comments']);\n    const article_date = new Date(article_data['created_date']).toDateString();\n    var apollo_div = document.getElementById(\"apollo_widget_left_sidebar\");\n    var sm_div = document.getElementById(\"sm_links_left_sidebar\"); //gets the first element with the tag name \"body\" aka, the entire page\n\n    var body = document.getElementsByTagName(\"body\")[0];\n\n    body.onscroll = function (e) {\n      //documentElement.scrollTop gets the number of elements from the top\n      if (document.documentElement.scrollTop >= 70) {\n        //makes the \"apollo\" thing appear after they scroll more than 70 px. (approx the height of the nav bar)\n        apollo_div.classList.add(\"AfterScroll\");\n      } else {\n        //removes the \"apollo\" thing if the navbar comes into view\n        apollo_div.classList.remove(\"AfterScroll\");\n      }\n\n      if (document.documentElement.scrollTop >= 225) {\n        sm_div.classList.add(\"AfterScroll\");\n      } else {\n        sm_div.classList.remove(\"AfterScroll\");\n      }\n    };\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(ListGroup, {\n      variant: \"flush\",\n      className: \"sticky-top BeforeScroll\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"apollo_widget_left_sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(ListGroup.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"verdana-font\",\n      onClick: () => this.props.history.push('/'),\n      style: {\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Apollo\")), !authenticated && React.createElement(ListGroup.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/signup\",\n      className: \"article-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(Badge, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Create an account\")), React.createElement(RegisterEmail, {\n      text: \"Get email updates\",\n      direction: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }))), React.createElement(ListGroup.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"sm_links_left_sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"//medium.com/p/d93746744a8f/share/twitter?source=post_actions_header---------------------------\",\n      rel: \"noopener nofollow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      width: \"29\",\n      height: \"29\",\n      class: \"q\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }))), React.createElement(\"a\", {\n      href: \"//medium.com/p/d93746744a8f/share/facebook?source=post_actions_header---------------------------\",\n      ctarget: \"_blank\",\n      rel: \"noopener nofollow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      width: \"29\",\n      height: \"29\",\n      class: \"q\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }))))))), React.createElement(Col, {\n      xs: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, loading ? React.createElement(LoaderSpinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }) : React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, article_data ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"times-new-roman-font\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, article_data['title']), React.createElement(\"h6\", {\n      className: \"padding-left-10px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"By \", article_data['author'], \" \", React.createElement(Badge, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, article_date), React.createElement(\"div\", {\n      className: \"float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"//medium.com/p/d93746744a8f/share/twitter?source=post_actions_header---------------------------\",\n      rel: \"noopener nofollow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      width: \"29\",\n      height: \"29\",\n      class: \"q\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }))), React.createElement(\"a\", {\n      href: \"//medium.com/p/d93746744a8f/share/facebook?source=post_actions_header---------------------------\",\n      ctarget: \"_blank\",\n      rel: \"noopener nofollow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      width: \"29\",\n      height: \"29\",\n      class: \"q\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }))))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(RichText, {\n      text: article_data['body'],\n      classes: \"times-new-roman-font\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    })) : React.createElement(Alert, {\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"There was an issue loading this article\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }),\n    /*only displays the \"sign up for email updates\" if they aren't signed in*/\n    !authenticated && React.createElement(\"div\", {\n      style: {\n        backgroundColor: \"lightgrey\",\n        paddingTop: \"8px\",\n        paddingBottom: \"3px\",\n        paddingLeft: \"8px\",\n        borderRadius: \"4px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"text\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Like what you see? Subscribe for updates on our website\"), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    })), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Submit\"))), React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"We will never sell your information \")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    })), React.createElement(CommentSection, {\n      comments: article_data['comments'],\n      article_id: this.props.match.params.article_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    authenticated: state.auth.token !== null\n  };\n};\n\nexport default connect(mapStateToProps)(ArticlePage);","map":{"version":3,"sources":["/Users/connordavidson/Desktop/apollo-blog/src/containers/ArticlePage.js"],"names":["React","Link","Container","Badge","Col","Row","Form","ListGroup","Button","Alert","axios","connect","RegisterEmail","RichText","LoaderSpinner","CommentSection","article_url","create_comment_url","ArticlePage","Component","state","loading","error","article_data","handleGetArticle","article_id","props","match","params","get","then","response","console","log","data","setState","catch","componentDidMount","render","comment_body","commenter_name","authenticated","article_date","Date","toDateString","apollo_div","document","getElementById","sm_div","body","getElementsByTagName","onscroll","e","documentElement","scrollTop","classList","add","remove","history","push","cursor","backgroundColor","paddingTop","paddingBottom","paddingLeft","borderRadius","mapStateToProps","auth","token"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {\n  Container ,\n  Badge ,\n  Col ,\n  Row ,\n  Form ,\n  ListGroup ,\n  Button ,\n  Alert ,\n\n} from 'react-bootstrap';\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\n// found at https://www.npmjs.com/package/react-bootstrap-icons\n\n\n\nimport RegisterEmail from './Misc/RegisterEmail';\nimport RichText from './Misc/RichText';\nimport LoaderSpinner from './Misc/LoaderSpinner';\nimport CommentSection from './Misc/CommentSection' ;\nimport \"../content/css/App.css\";\nimport {\n  article_url,\n  create_comment_url ,\n\n} from \"../backend-urls.js\" ;\n\n\n\n\nclass ArticlePage extends React.Component  {\n\n  state = {\n    loading : false , //to determine if the page is loading\n    error : null , //stores the error that comes from backend\n    article_data: [] , //stores the article information\n\n  }\n\n  componentDidMount(){\n    this.setState({\n      loading: true ,\n    })\n\n    this.handleGetArticle() ;\n\n  }\n\n\n\n  handleGetArticle = () => {\n    var article_id = this.props.match.params.article_id\n    axios\n      .get(article_url(article_id) )\n      .then(response => {\n        console.log(response.data);\n        this.setState({\n          loading: false ,\n          article_data: response.data ,\n        })\n      })\n      .catch(error => {\n        this.setState({\n          error: error ,\n          loading : false\n        })\n      })\n  }\n\n  // \n  // handleCommentBody = (text) => {\n  //   this.setState({\n  //     comment_body : text\n  //   })\n  // }\n  //\n  // handleCommenterName = (text) => {\n  //   this.setState({\n  //     commenter_name : text.target.value\n  //   })\n  // }\n  //\n  // handlePostComment = () => {\n  //\n  //   var comment_data = new FormData() ;\n  //   comment_data.append('body' , this.state.comment_body )\n  //   comment_data.append('author' , this.state.commenter_name)\n  //   comment_data.append('upvote', 0)\n  //   comment_data.append('downvote' , 0)\n  //\n  //   axios\n  //     .post(create_comment_url , comment_data)\n  //     .then(response => {\n  //       console.log('comment submitted')\n  //       this.setState({\n  //         loading: false ,\n  //       })\n  //     })\n  //     .catch(error => {\n  //       this.setState({\n  //         error: error.response.data ,\n  //         loading: false ,\n  //       })\n  //     })\n  // }\n  //\n  //\n  // handleValidateComment = () => {\n  //   return !(this.state.comment_body.length > 1 && this.state.commenter_name.length > 1)\n  // }\n\n\n\n\n  render(){\n\n    const {\n      article_id ,\n      article_data ,\n      loading ,\n      comment_body ,\n      commenter_name ,\n\n    } = this.state\n\n    const {\n      authenticated\n    } = this.props\n\n    // console.log(comment_body)\n    // console.log(commenter_name)\n\n    console.log( article_data['comments'] )\n\n\n    const article_date = new Date(article_data['created_date']).toDateString()  ;\n\n    var apollo_div = document.getElementById(\"apollo_widget_left_sidebar\")\n    var sm_div = document.getElementById(\"sm_links_left_sidebar\")\n    //gets the first element with the tag name \"body\" aka, the entire page\n    var body= document.getElementsByTagName(\"body\")[0];\n    body.onscroll = function(e){\n      //documentElement.scrollTop gets the number of elements from the top\n      if( document.documentElement.scrollTop >= 70){\n        //makes the \"apollo\" thing appear after they scroll more than 70 px. (approx the height of the nav bar)\n        apollo_div.classList.add(\"AfterScroll\")  ;\n      }else {\n        //removes the \"apollo\" thing if the navbar comes into view\n        apollo_div.classList.remove(\"AfterScroll\") ;\n      }\n\n      if(document.documentElement.scrollTop >= 225)\n      {\n        sm_div.classList.add(\"AfterScroll\");\n      }else{\n        sm_div.classList.remove(\"AfterScroll\");\n      }\n\n\n    }\n\n\n\n    return (\n\n      <React.Fragment>\n\n        <Container >\n\n          <Row>\n            <Col xs={2}>\n\n              <ListGroup\n\n                variant=\"flush\"\n                className=\"sticky-top BeforeScroll\"\n              >\n                <div id=\"apollo_widget_left_sidebar\">\n                  <ListGroup.Item>\n                    <h4\n                      className=\"verdana-font\"\n                      onClick={() => this.props.history.push('/')}\n                      style={{cursor: 'pointer'}}\n                    >\n                        Apollo\n                    </h4>\n                  </ListGroup.Item>\n\n                  {\n                    !authenticated &&\n                    <ListGroup.Item>\n                      <Link to=\"/signup\" className=\"article-link\">\n                        <Badge >\n                          Create an account\n                        </Badge>\n                      </Link>\n                      <RegisterEmail text=\"Get email updates\" direction=\"right\"/>\n                    </ListGroup.Item>\n                  }\n                </div>\n\n                  <ListGroup.Item >\n                    <div id=\"sm_links_left_sidebar\">\n                      <a href=\"//medium.com/p/d93746744a8f/share/twitter?source=post_actions_header---------------------------\" rel=\"noopener nofollow\">\n                        <svg width=\"29\" height=\"29\" class=\"q\">\n                          <path d=\"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z\">\n                          </path>\n                        </svg>\n                      </a>\n\n                      <a href=\"//medium.com/p/d93746744a8f/share/facebook?source=post_actions_header---------------------------\" ctarget=\"_blank\" rel=\"noopener nofollow\">\n                        <svg width=\"29\" height=\"29\" class=\"q\">\n                          <path d=\"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79\"></path>\n                        </svg>\n                      </a>\n                    </div>\n                  </ListGroup.Item>\n\n              </ListGroup>\n            </Col>\n\n\n            <Col xs={8} >\n\n              {\n                loading ?\n                  <LoaderSpinner />\n                :\n                  <React.Fragment>\n                    {\n                      article_data  ?\n                        <React.Fragment>\n                          <h1 className=\"times-new-roman-font\">\n                            {  article_data['title'] }\n                          </h1>\n\n                            <h6 className=\"padding-left-10px\">\n                              By { article_data['author']} <Badge>{ article_date }</Badge>\n                              <div className=\"float-right\">\n                                <a href=\"//medium.com/p/d93746744a8f/share/twitter?source=post_actions_header---------------------------\" rel=\"noopener nofollow\">\n                                  <svg width=\"29\" height=\"29\" class=\"q\">\n                                    <path d=\"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z\">\n                                    </path>\n                                  </svg>\n                                </a>\n\n                                <a href=\"//medium.com/p/d93746744a8f/share/facebook?source=post_actions_header---------------------------\" ctarget=\"_blank\" rel=\"noopener nofollow\">\n                                  <svg width=\"29\" height=\"29\" class=\"q\">\n                                    <path d=\"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79\"></path>\n                                  </svg>\n                                </a>\n                              </div>\n                            </h6>\n\n\n                          <hr />\n                          {/*Displays the body of the article in Rich Text*/}\n\n                          <RichText  text={article_data['body']} classes=\"times-new-roman-font\"/>\n                        </React.Fragment>\n                      :\n                        <Alert variant=\"dark\">There was an issue loading this article</Alert>\n                    }\n\n                    <br />\n                    {\n                      /*only displays the \"sign up for email updates\" if they aren't signed in*/\n                      !authenticated &&\n                        <div style={{backgroundColor:\"lightgrey\" , paddingTop:\"8px\" , paddingBottom:\"3px\", paddingLeft:\"8px\" , borderRadius:\"4px\"}}>\n                          <text >Like what you see? Subscribe for updates on our website</text>\n                          <Form >\n                            <Form.Row>\n                              <Col>\n                                <Form.Control type=\"email\" placeholder=\"Enter email\" />\n                              </Col>\n                              <Col>\n                                <Button variant=\"primary\" type=\"submit\">\n                                  Submit\n                                </Button>\n                              </Col>\n                            </Form.Row>\n                            <small>We will never sell your information </small>\n                          </Form>\n                          <br />\n                        </div>\n\n                    }\n\n                  <CommentSection comments={article_data['comments']} article_id={this.props.match.params.article_id}/>\n                </React.Fragment>\n              }\n            </Col>\n          </Row>\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading ,\n    error: state.auth.error ,\n    authenticated: state.auth.token !== null ,\n  };\n};\n\nexport default\n    connect(\n      mapStateToProps,\n\n    )(ArticlePage);\n"]},"metadata":{},"sourceType":"module"}