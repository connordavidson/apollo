{"ast":null,"code":"import { Transforms } from 'slate';\nimport createListItemPlugin from './createListItemPlugin';\nimport createSimpleHtmlBlockPlugin from './createSimpleHtmlBlockPlugin';\nimport { decreaseListIndention, getActiveList, increaseListIndention } from './utils/listUtils';\n\nfunction createSlatePlugins(def, customizers) {\n  if (customizers === void 0) {\n    customizers = {};\n  }\n\n  return [createSimpleHtmlBlockPlugin({\n    type: def.type,\n    icon: def.icon,\n    noButton: def.noButton,\n    tagName: def.tagName,\n    customAdd: function (editor) {\n      var currentList = getActiveList(editor, def.allListTypes);\n\n      if (!currentList) {\n        increaseListIndention(editor, {\n          allListTypes: def.allListTypes,\n          listItemType: def.listItem.type\n        }, def.type);\n      } else {\n        // change type\n        Transforms.setNodes(editor, {\n          type: def.type\n        }, {\n          at: currentList[1]\n        });\n      }\n    },\n    customRemove: function (editor) {\n      decreaseListIndention(editor, {\n        allListTypes: def.allListTypes,\n        listItemType: def.listItem.type\n      });\n    }\n  })(customizers.customizeList), createListItemPlugin(def.listItem)(customizers.customizeListItem)];\n} // tslint:disable-next-line:no-any\n\n\nfunction mergeCustomizer(c1, c2) {\n  return {\n    // tslint:disable-next-line:no-any\n    customizeList: function (def) {\n      var _a, _b;\n\n      var def2 = ((_a = c1) === null || _a === void 0 ? void 0 : _a.customizeList) ? c1.customizeList(def) : def;\n      return ((_b = c2) === null || _b === void 0 ? void 0 : _b.customizeList) ? c2.customizeList(def2) : def2;\n    },\n    // tslint:disable-next-line:no-any\n    customizeListItem: function (def) {\n      var _a, _b;\n\n      var def2 = ((_a = c1) === null || _a === void 0 ? void 0 : _a.customizeList) ? c1.customizeListItem(def) : def;\n      return ((_b = c2) === null || _b === void 0 ? void 0 : _b.customizeList) ? c2.customizeListItem(def2) : def2;\n    }\n  };\n}\n\nfunction createListPlugin(def) {\n  var inner = function (innerdef, customizersIn) {\n    var customizablePlugin = function (customizers) {\n      return inner(innerdef, mergeCustomizer(customizersIn, customizers));\n    };\n\n    customizablePlugin.toPlugin = function () {\n      return createSlatePlugins(innerdef, customizersIn).map(function (plugin) {\n        return plugin.toPlugin();\n      });\n    };\n\n    return customizablePlugin;\n  };\n\n  return inner(def);\n}\n\nexport default createListPlugin;","map":{"version":3,"sources":["../../src/pluginFactories/createListPlugin.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { Transforms } from 'slate';\nimport createListItemPlugin from './createListItemPlugin';\nimport createSimpleHtmlBlockPlugin from './createSimpleHtmlBlockPlugin';\nimport { decreaseListIndention, getActiveList, increaseListIndention } from './utils/listUtils';\nfunction createSlatePlugins(def, customizers) {\n    if (customizers === void 0) { customizers = {}; }\n    return [\n        createSimpleHtmlBlockPlugin({\n            type: def.type,\n            icon: def.icon,\n            noButton: def.noButton,\n            tagName: def.tagName,\n            customAdd: function (editor) {\n                var currentList = getActiveList(editor, def.allListTypes);\n                if (!currentList) {\n                    increaseListIndention(editor, {\n                        allListTypes: def.allListTypes,\n                        listItemType: def.listItem.type,\n                    }, def.type);\n                }\n                else {\n                    // change type\n                    Transforms.setNodes(editor, {\n                        type: def.type,\n                    }, {\n                        at: currentList[1],\n                    });\n                }\n            },\n            customRemove: function (editor) {\n                decreaseListIndention(editor, {\n                    allListTypes: def.allListTypes,\n                    listItemType: def.listItem.type,\n                });\n            },\n        })(customizers.customizeList),\n        createListItemPlugin(def.listItem)(customizers.customizeListItem),\n    ];\n}\n// tslint:disable-next-line:no-any\nfunction mergeCustomizer(c1, c2) {\n    return {\n        // tslint:disable-next-line:no-any\n        customizeList: function (def) {\n            var _a, _b;\n            var def2 = ((_a = c1) === null || _a === void 0 ? void 0 : _a.customizeList) ? c1.customizeList(def) : def;\n            return ((_b = c2) === null || _b === void 0 ? void 0 : _b.customizeList) ? c2.customizeList(def2) : def2;\n        },\n        // tslint:disable-next-line:no-any\n        customizeListItem: function (def) {\n            var _a, _b;\n            var def2 = ((_a = c1) === null || _a === void 0 ? void 0 : _a.customizeList) ? c1.customizeListItem(def) : def;\n            return ((_b = c2) === null || _b === void 0 ? void 0 : _b.customizeList) ? c2.customizeListItem(def2) : def2;\n        },\n    };\n}\nfunction createListPlugin(def) {\n    var inner = function (innerdef, customizersIn) {\n        var customizablePlugin = function (customizers) {\n            return inner(innerdef, mergeCustomizer(customizersIn, customizers));\n        };\n        customizablePlugin.toPlugin = function () {\n            return createSlatePlugins(innerdef, customizersIn).map(function (plugin) {\n                return plugin.toPlugin();\n            });\n        };\n        return customizablePlugin;\n    };\n    return inner(def);\n}\nexport default createListPlugin;\n//# sourceMappingURL=createListPlugin.js.map"]},"metadata":{},"sourceType":"module"}