{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { Editor } from 'slate';\nimport { useSlate } from 'slate-react';\nexport var getCurrentNodeWithPlugin = function (editor, plugin) {\n  var _a;\n\n  if (plugin.pluginType === 'custom') {\n    return null;\n  }\n\n  var match = plugin.pluginType === 'component' ? plugin.object === 'mark' ? function (elem) {\n    return Boolean(elem[plugin.type]);\n  } : function (elem) {\n    return elem.type === plugin.type;\n  } : plugin.pluginType === 'data' ? // search for data\n  function (_a) {\n    var data = _a.data; // tslint:disable-next-line:no-any\n\n    var matches = plugin.dataMatches(data);\n    return matches;\n  } : null;\n\n  try {\n    var _b = __read(Editor.nodes(editor, {\n      match: match,\n      mode: 'lowest'\n    }), 1),\n        matchingNode = _b[0];\n\n    return (_a = matchingNode) === null || _a === void 0 ? void 0 : _a[0];\n  } catch (e) {\n    // seems to crash sometimes on redu\n    return null;\n  }\n};\nexport default (function (plugin) {\n  var editor = useSlate();\n  return getCurrentNodeWithPlugin(editor, plugin);\n});","map":{"version":3,"sources":["../../src/hooks/useCurrentNodeWithPlugin.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAS,MAAT,QAAgC,OAAhC;AACA,SAAsB,QAAtB,QAAsC,aAAtC;AAGA,OAAO,IAAM,wBAAwB,GAAG,UACtC,MADsC,EAEtC,MAFsC,EAEN;;;AAEhC,MAAI,MAAM,CAAC,UAAP,KAAsB,QAA1B,EAAoC;AAClC,WAAO,IAAP;AACD;;AAED,MAAM,KAAK,GACT,MAAM,CAAC,UAAP,KAAsB,WAAtB,GACI,MAAM,CAAC,MAAP,KAAkB,MAAlB,GACE,UAAA,IAAA,EAAI;AAAI,WAAA,OAAO,CAAC,IAAI,CAAC,MAAM,CAAnB,IAAY,CAAL,CAAP;AAA0B,GADpC,GAEE,UAAA,IAAA,EAAI;AAAI,WAAA,IAAI,CAAC,IAAL,KAAc,MAAM,CAApB,IAAA;AAAyB,GAHvC,GAII,MAAM,CAAC,UAAP,KAAsB,MAAtB,GACA;AACA,YAAC,EAAD,EAAS;QAAN,IAAA,GAAA,EAAA,CAAA,I,CAAM,CACP;;AACA,QAAM,OAAO,GAAG,MAAM,CAAC,WAAP,CAAmB,IAAnB,CAAhB;AAEA,WAAO,OAAP;AACD,GAPD,GAQA,IAbN;;AAeA,MAAI;AACI,QAAA,EAAA,GAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA,EAAA;kBAAA;;AAAA,KAAA,CAAA,EAGJ,CAHI,CAAA;AAAA,QAAC,YAAA,GAAA,EAAA,CAAA,CAAA,CAAD;;AAKN,WAAO,CAAA,EAAA,GAAA,YAAA,MAAY,IAAZ,IAAY,EAAA,KAAA,KAAA,CAAZ,GAAY,KAAA,CAAZ,GAAY,EAAA,CAAG,CAAH,CAAnB;AACD,GAPD,CAOE,OAAO,CAAP,EAAU;AACV;AACA,WAAO,IAAP;AACD;AACF,CAlCM;AAmCP,gBAAe,UAAI,MAAJ,EAAoC;AACjD,MAAM,MAAM,GAAG,QAAQ,EAAvB;AACA,SAAO,wBAAwB,CAAC,MAAD,EAAS,MAAT,CAA/B;AACD,CAHD","sourceRoot":"","sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Editor } from 'slate';\nimport { useSlate } from 'slate-react';\nexport var getCurrentNodeWithPlugin = function (editor, plugin) {\n    var _a;\n    if (plugin.pluginType === 'custom') {\n        return null;\n    }\n    var match = plugin.pluginType === 'component'\n        ? plugin.object === 'mark'\n            ? function (elem) { return Boolean(elem[plugin.type]); }\n            : function (elem) { return elem.type === plugin.type; }\n        : plugin.pluginType === 'data'\n            ? // search for data\n                function (_a) {\n                    var data = _a.data;\n                    // tslint:disable-next-line:no-any\n                    var matches = plugin.dataMatches(data);\n                    return matches;\n                }\n            : null;\n    try {\n        var _b = __read(Editor.nodes(editor, {\n            match: match,\n            mode: 'lowest',\n        }), 1), matchingNode = _b[0];\n        return (_a = matchingNode) === null || _a === void 0 ? void 0 : _a[0];\n    }\n    catch (e) {\n        // seems to crash sometimes on redu\n        return null;\n    }\n};\nexport default (function (plugin) {\n    var editor = useSlate();\n    return getCurrentNodeWithPlugin(editor, plugin);\n});\n//# sourceMappingURL=useCurrentNodeWithPlugin.js.map"]},"metadata":{},"sourceType":"module"}