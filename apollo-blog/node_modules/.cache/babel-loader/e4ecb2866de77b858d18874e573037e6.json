{"ast":null,"code":"import { useCallback } from 'react';\nimport { Transforms } from 'slate';\nimport { useSlate } from 'slate-react';\nexport var removePlugin = function (editor, plugin) {\n  if (plugin.customRemove) {\n    plugin.customRemove(editor);\n  } else if (plugin.pluginType === 'component') {\n    if (plugin.object === 'mark') {\n      editor.removeMark(plugin.type);\n    } else if (plugin.object === 'inline') {\n      Transforms.unwrapNodes(editor, {\n        match: function (elem) {\n          return elem.type === plugin.type;\n        }\n      }); // Transforms.setNodes(editor, { type: null });\n    } else if (plugin.object === 'block') {\n      if (plugin.replaceWithDefaultOnRemove) {\n        Transforms.setNodes(editor, {\n          type: null\n        });\n      } else {\n        Transforms.unwrapNodes(editor, {\n          match: function (elem) {\n            return elem.type === plugin.type;\n          },\n          split: true\n        });\n      }\n    }\n  } else {// not implemented yet for data type\n  }\n};\nexport default (function (plugin) {\n  var editor = useSlate();\n  return useCallback(function () {\n    return removePlugin(editor, plugin);\n  }, []);\n});","map":{"version":3,"sources":["../../src/hooks/useRemovePlugin.ts"],"names":[],"mappings":"AAAA,SAAS,WAAT,QAA4B,OAA5B;AACA,SAAS,UAAT,QAA2B,OAA3B;AACA,SAAsB,QAAtB,QAAsC,aAAtC;AAGA,OAAO,IAAM,YAAY,GAAG,UAC1B,MAD0B,EAE1B,MAF0B,EAEM;AAEhC,MAAI,MAAM,CAAC,YAAX,EAAyB;AACvB,IAAA,MAAM,CAAC,YAAP,CAAoB,MAApB;AACD,GAFD,MAEO,IAAI,MAAM,CAAC,UAAP,KAAsB,WAA1B,EAAuC;AAC5C,QAAI,MAAM,CAAC,MAAP,KAAkB,MAAtB,EAA8B;AAC5B,MAAA,MAAM,CAAC,UAAP,CAAkB,MAAM,CAAC,IAAzB;AACD,KAFD,MAEO,IAAI,MAAM,CAAC,MAAP,KAAkB,QAAtB,EAAgC;AACrC,MAAA,UAAU,CAAC,WAAX,CAAuB,MAAvB,EAA+B;AAC7B,QAAA,KAAK,EAAE,UAAA,IAAA,EAAI;AAAI,iBAAA,IAAI,CAAC,IAAL,KAAc,MAAM,CAApB,IAAA;AAAyB;AADX,OAA/B,EADqC,CAIrC;AACD,KALM,MAKA,IAAI,MAAM,CAAC,MAAP,KAAkB,OAAtB,EAA+B;AACpC,UAAI,MAAM,CAAC,0BAAX,EAAuC;AACrC,QAAA,UAAU,CAAC,QAAX,CAAoB,MAApB,EAA4B;AAC1B,UAAA,IAAI,EAAE;AADoB,SAA5B;AAGD,OAJD,MAIO;AACL,QAAA,UAAU,CAAC,WAAX,CAAuB,MAAvB,EAA+B;AAC7B,UAAA,KAAK,EAAE,UAAA,IAAA,EAAI;AAAI,mBAAA,IAAI,CAAC,IAAL,KAAc,MAAM,CAApB,IAAA;AAAyB,WADX;AAE7B,UAAA,KAAK,EAAE;AAFsB,SAA/B;AAID;AACF;AACF,GApBM,MAoBA,CACL;AACD;AACF,CA7BM;AA8BP,gBAAe,UAAI,MAAJ,EAAoC;AACjD,MAAM,MAAM,GAAG,QAAQ,EAAvB;AACA,SAAO,WAAW,CAAC,YAAA;AAAM,WAAA,YAAY,CAAC,MAAD,EAAZ,MAAY,CAAZ;AAA4B,GAAnC,EAAqC,EAArC,CAAlB;AACD,CAHD","sourceRoot":"","sourcesContent":["import { useCallback } from 'react';\nimport { Transforms } from 'slate';\nimport { useSlate } from 'slate-react';\nexport var removePlugin = function (editor, plugin) {\n    if (plugin.customRemove) {\n        plugin.customRemove(editor);\n    }\n    else if (plugin.pluginType === 'component') {\n        if (plugin.object === 'mark') {\n            editor.removeMark(plugin.type);\n        }\n        else if (plugin.object === 'inline') {\n            Transforms.unwrapNodes(editor, {\n                match: function (elem) { return elem.type === plugin.type; },\n            });\n            // Transforms.setNodes(editor, { type: null });\n        }\n        else if (plugin.object === 'block') {\n            if (plugin.replaceWithDefaultOnRemove) {\n                Transforms.setNodes(editor, {\n                    type: null,\n                });\n            }\n            else {\n                Transforms.unwrapNodes(editor, {\n                    match: function (elem) { return elem.type === plugin.type; },\n                    split: true,\n                });\n            }\n        }\n    }\n    else {\n        // not implemented yet for data type\n    }\n};\nexport default (function (plugin) {\n    var editor = useSlate();\n    return useCallback(function () { return removePlugin(editor, plugin); }, []);\n});\n//# sourceMappingURL=useRemovePlugin.js.map"]},"metadata":{},"sourceType":"module"}