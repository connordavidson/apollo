{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport flatten from 'lodash.flatten';\nimport { jsx } from 'slate-hyperscript';\nimport parseHtml from './parseHtml';\n\nvar HtmlToSlate = function (_a) {\n  var plugins = _a.plugins;\n\n  var deserializeElement = function (el) {\n    var _a;\n\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k;\n\n    if (el.nodeType === 3) {\n      return el.textContent && el.textContent.replace('\\n', '');\n    } else if (el.nodeType !== 1) {\n      return null;\n    } else if (el.nodeName === 'BR') {\n      return '\\n';\n    }\n\n    var nodeName = el.nodeName;\n    var parent = el; // tslint:disable-next-line: no-any\n\n    var children = flatten(Array.from(parent.childNodes).map(deserializeElement));\n\n    if (el.nodeName === 'BODY') {\n      return jsx('fragment', {}, children);\n    }\n\n    var matchingPlugin = plugins.find(function (p) {\n      var _a;\n\n      return p.pluginType === 'component' && ((_a = p.deserialize) === null || _a === void 0 ? void 0 : _a.tagName) === nodeName.toLowerCase();\n    });\n\n    if (matchingPlugin && matchingPlugin.pluginType === 'component') {\n      if (matchingPlugin.object === 'mark') {\n        var attrs_1 = (_a = {}, _a[matchingPlugin.type] = (_f = (_e = (_c = (_b = matchingPlugin) === null || _b === void 0 ? void 0 : _b.deserialize) === null || _c === void 0 ? void 0 : (_d = _c).getData) === null || _e === void 0 ? void 0 : _e.call(_d, el), _f !== null && _f !== void 0 ? _f : true), _a);\n        return children.map(function (child) {\n          return jsx('text', attrs_1, child);\n        });\n      } else {\n        var data = (_k = (_h = (_g = matchingPlugin) === null || _g === void 0 ? void 0 : _g.deserialize) === null || _h === void 0 ? void 0 : (_j = _h).getData) === null || _k === void 0 ? void 0 : _k.call(_j, el);\n\n        var attrs = __assign({\n          type: matchingPlugin.type\n        }, data ? {\n          data: data\n        } : {});\n\n        return jsx('element', attrs, children);\n      }\n    }\n\n    return children;\n  };\n\n  return function (htmlString) {\n    var parsed = parseHtml(htmlString); // tslint:disable-next-line:no-any\n\n    var fragment = deserializeElement(parsed.body);\n    return {\n      slate: fragment\n    };\n  };\n};\n\nexport default HtmlToSlate;","map":{"version":3,"sources":["../../src/HtmlToSlate/index.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport flatten from 'lodash.flatten';\nimport { jsx } from 'slate-hyperscript';\nimport parseHtml from './parseHtml';\nvar HtmlToSlate = function (_a) {\n    var plugins = _a.plugins;\n    var deserializeElement = function (el) {\n        var _a;\n        var _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        if (el.nodeType === 3) {\n            return el.textContent && el.textContent.replace('\\n', '');\n        }\n        else if (el.nodeType !== 1) {\n            return null;\n        }\n        else if (el.nodeName === 'BR') {\n            return '\\n';\n        }\n        var nodeName = el.nodeName;\n        var parent = el;\n        // tslint:disable-next-line: no-any\n        var children = flatten(Array.from(parent.childNodes).map(deserializeElement));\n        if (el.nodeName === 'BODY') {\n            return jsx('fragment', {}, children);\n        }\n        var matchingPlugin = plugins.find(function (p) {\n            var _a;\n            return (p.pluginType === 'component' &&\n                ((_a = p.deserialize) === null || _a === void 0 ? void 0 : _a.tagName) === nodeName.toLowerCase());\n        });\n        if (matchingPlugin && matchingPlugin.pluginType === 'component') {\n            if (matchingPlugin.object === 'mark') {\n                var attrs_1 = (_a = {},\n                    _a[matchingPlugin.type] = (_f = (_e = (_c = (_b = matchingPlugin) === null || _b === void 0 ? void 0 : _b.deserialize) === null || _c === void 0 ? void 0 : (_d = _c).getData) === null || _e === void 0 ? void 0 : _e.call(_d, el), (_f !== null && _f !== void 0 ? _f : true)),\n                    _a);\n                return children.map(function (child) { return jsx('text', attrs_1, child); });\n            }\n            else {\n                var data = (_k = (_h = (_g = matchingPlugin) === null || _g === void 0 ? void 0 : _g.deserialize) === null || _h === void 0 ? void 0 : (_j = _h).getData) === null || _k === void 0 ? void 0 : _k.call(_j, el);\n                var attrs = __assign({ type: matchingPlugin.type }, (data ? { data: data } : {}));\n                return jsx('element', attrs, children);\n            }\n        }\n        return children;\n    };\n    return function (htmlString) {\n        var parsed = parseHtml(htmlString);\n        // tslint:disable-next-line:no-any\n        var fragment = deserializeElement(parsed.body);\n        return {\n            slate: fragment,\n        };\n    };\n};\nexport default HtmlToSlate;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}