{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport Ajv from 'ajv';\nimport { JSONSchemaBridge } from 'uniforms-bridge-json-schema';\nvar ajv = new Ajv({\n  allErrors: true,\n  useDefaults: true\n});\n\nfunction createValidator(schema) {\n  var validator = ajv.compile(schema); // tslint:disable-next-line:no-any\n\n  return function (model) {\n    validator(model);\n\n    if (validator.errors && validator.errors.length) {\n      throw {\n        details: validator.errors\n      };\n    }\n  };\n}\n\nfunction makeUniformsSchema(jsonSchema) {\n  var fullSchema = __assign({\n    type: 'object'\n  }, jsonSchema);\n\n  return new JSONSchemaBridge(fullSchema, createValidator(fullSchema));\n}\n\nexport default makeUniformsSchema;","map":{"version":3,"sources":["../../src/utils/makeUniformsSchema.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,OAAO,GAAP,MAAgB,KAAhB;AAEA,SAAS,gBAAT,QAAiC,6BAAjC;AACA,IAAM,GAAG,GAAG,IAAI,GAAJ,CAAQ;AAAE,EAAA,SAAS,EAAE,IAAb;AAAmB,EAAA,WAAW,EAAE;AAAhC,CAAR,CAAZ;;AAEA,SAAS,eAAT,CAA2C,MAA3C,EAAgE;AAC9D,MAAM,SAAS,GAAG,GAAG,CAAC,OAAJ,CAAY,MAAZ,CAAlB,CAD8D,CAE9D;;AACA,SAAO,UAAC,KAAD,EAAW;AAChB,IAAA,SAAS,CAAC,KAAD,CAAT;;AACA,QAAI,SAAS,CAAC,MAAV,IAAoB,SAAS,CAAC,MAAV,CAAiB,MAAzC,EAAiD;AAC/C,YAAM;AAAE,QAAA,OAAO,EAAE,SAAS,CAAC;AAArB,OAAN;AACD;AACF,GALD;AAMD;;AAED,SAAS,kBAAT,CACE,UADF,EACyC;AAEvC,MAAM,UAAU,GAAA,QAAA,CAAA;AACd,IAAA,IAAI,EAAE;AADQ,GAAA,EAEX,UAFW,CAAhB;;AAIA,SAAO,IAAI,gBAAJ,CAAqB,UAArB,EAAiC,eAAe,CAAC,UAAD,CAAhD,CAAP;AACD;;AAED,eAAe,kBAAf","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Ajv from 'ajv';\nimport { JSONSchemaBridge } from 'uniforms-bridge-json-schema';\nvar ajv = new Ajv({ allErrors: true, useDefaults: true });\nfunction createValidator(schema) {\n    var validator = ajv.compile(schema);\n    // tslint:disable-next-line:no-any\n    return function (model) {\n        validator(model);\n        if (validator.errors && validator.errors.length) {\n            throw { details: validator.errors };\n        }\n    };\n}\nfunction makeUniformsSchema(jsonSchema) {\n    var fullSchema = __assign({ type: 'object' }, jsonSchema);\n    return new JSONSchemaBridge(fullSchema, createValidator(fullSchema));\n}\nexport default makeUniformsSchema;\n//# sourceMappingURL=makeUniformsSchema.js.map"]},"metadata":{},"sourceType":"module"}