{"ast":null,"code":"import _classCallCheck from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import axios from\"axios\";import{Button,FormGroup,FormControl,Badge,Alert}from\"react-bootstrap\";import LoaderSpinner from'../Misc/LoaderSpinner';import\"../../content/css/App.css\";import{reset_password_url}from\"../../backend-urls.js\";var ForgotPassword=/*#__PURE__*/function(_React$Component){_inherits(ForgotPassword,_React$Component);function ForgotPassword(){var _getPrototypeOf2;var _this;_classCallCheck(this,ForgotPassword);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ForgotPassword)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loading:false,//stores the loading page\nerror:null,//stores any error that would get returned from the backend\nemail:\"\",//stores the email from the input\nemail_submitted:null,//stores response after user submits their email\nmessage:null//stores the response message\n};_this.handleEmail=function(e){console.log(e.target.value);_this.setState({email:e.target.value});};_this.handleValidated=function(){return!(_this.state.email.length>1);};_this.handleSubmit=function(){_this.setState({loading:true});var data=new FormData();data.append('email',_this.state.email);axios.post(reset_password_url,data).then(function(response){console.log(response);_this.setState({email_submitted:true,loading:false,message:response.data.message});}).catch(function(error){console.log(error);_this.setState({error:error.response.data,loading:false});});};return _this;}_createClass(ForgotPassword,[{key:\"render\",value:function render(){var _this$state=this.state,loading=_this$state.loading,error=_this$state.error,email=_this$state.email,email_submitted=_this$state.email_submitted,message=_this$state.message;return React.createElement(\"div\",{className:\"account-form\"},React.createElement(\"form\",null,React.createElement(\"h3\",null,\"Reset Password \"),React.createElement(\"hr\",null),React.createElement(FormGroup,{controlId:\"email\",bsSize:\"large\"},\"Email\",React.createElement(FormControl,{required:true,autoFocus:true,value:email,onChange:this.handleEmail})),loading?React.createElement(Button,{block:true,bsSize:\"large\",disabled:true},React.createElement(LoaderSpinner,null)):React.createElement(Button,{block:true,bsSize:\"large\",disabled:this.handleValidated(),onClick:this.handleSubmit},\"Login\"),React.createElement(\"br\",null),email_submitted&&React.createElement(Alert,{variant:\"success\"},message)));}}]);return ForgotPassword;}(React.Component);export default ForgotPassword;","map":{"version":3,"sources":["/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/src/containers/Account/ForgotPassword.js"],"names":["React","axios","Button","FormGroup","FormControl","Badge","Alert","LoaderSpinner","reset_password_url","ForgotPassword","state","loading","error","email","email_submitted","message","handleEmail","e","console","log","target","value","setState","handleValidated","length","handleSubmit","data","FormData","append","post","then","response","catch","Component"],"mappings":"oyBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,MADF,CAEEC,SAFF,CAGEC,WAHF,CAIEC,KAJF,CAKEC,KALF,KAOO,iBAPP,CAQA,MAAOC,CAAAA,aAAP,KAA0B,uBAA1B,CAGA,MAAO,2BAAP,CACA,OACEC,kBADF,KAGO,uBAHP,C,GAMMC,CAAAA,c,2aAEJC,K,CAAQ,CACNC,OAAO,CAAG,KADJ,CACY;AAClBC,KAAK,CAAG,IAFF,CAES;AACfC,KAAK,CAAG,EAHF,CAGO;AACbC,eAAe,CAAG,IAJZ,CAImB;AACzBC,OAAO,CAAG,IAAO;AALX,C,OASRC,W,CAAc,SAACC,CAAD,CAAO,CACnBC,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,KAArB,EACA,MAAKC,QAAL,CAAc,CAACT,KAAK,CAAGI,CAAC,CAACG,MAAF,CAASC,KAAlB,CAAd,EACD,C,OAEDE,e,CAAkB,UAAM,CACtB,MAAO,EAAE,MAAKb,KAAL,CAAWG,KAAX,CAAiBW,MAAjB,CAA0B,CAA5B,CAAP,CACD,C,OAEDC,Y,CAAe,UAAM,CACnB,MAAKH,QAAL,CAAc,CACZX,OAAO,CAAE,IADG,CAAd,EAKA,GAAIe,CAAAA,IAAI,CAAG,GAAIC,CAAAA,QAAJ,EAAX,CACAD,IAAI,CAACE,MAAL,CAAY,OAAZ,CAAsB,MAAKlB,KAAL,CAAWG,KAAjC,EACAZ,KAAK,CACF4B,IADH,CACQrB,kBADR,CAC6BkB,IAD7B,EAEGI,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChBb,OAAO,CAACC,GAAR,CAAYY,QAAZ,EACA,MAAKT,QAAL,CAAc,CACZR,eAAe,CAAG,IADN,CAEZH,OAAO,CAAG,KAFE,CAGZI,OAAO,CAAGgB,QAAQ,CAACL,IAAT,CAAcX,OAHZ,CAAd,EAKD,CATH,EAUGiB,KAVH,CAUS,SAAApB,KAAK,CAAI,CACdM,OAAO,CAACC,GAAR,CAAYP,KAAZ,EACA,MAAKU,QAAL,CAAc,CACZV,KAAK,CAAGA,KAAK,CAACmB,QAAN,CAAeL,IADX,CAEZf,OAAO,CAAG,KAFE,CAAd,EAKD,CAjBH,EAkBD,C,iFAGO,iBAQF,KAAKD,KARH,CAEJC,OAFI,aAEJA,OAFI,CAGJC,KAHI,aAGJA,KAHI,CAIJC,KAJI,aAIJA,KAJI,CAKJC,eALI,aAKJA,eALI,CAMJC,OANI,aAMJA,OANI,CAUN,MAEE,4BAAK,SAAS,CAAC,cAAf,EACE,gCACE,gDADF,CAEE,8BAFF,CAGE,oBAAC,SAAD,EAAW,SAAS,CAAC,OAArB,CAA6B,MAAM,CAAC,OAApC,UAEE,oBAAC,WAAD,EACE,QAAQ,KADV,CAEE,SAAS,KAFX,CAGE,KAAK,CAAEF,KAHT,CAIE,QAAQ,CAAG,KAAKG,WAJlB,EAFF,CAHF,CAcIL,OAAO,CACH,oBAAC,MAAD,EACE,KAAK,KADP,CAEE,MAAM,CAAC,OAFT,CAGE,QAAQ,CAAE,IAHZ,EAKE,oBAAC,aAAD,MALF,CADG,CASL,oBAAC,MAAD,EACE,KAAK,KADP,CAEE,MAAM,CAAC,OAFT,CAGE,QAAQ,CACL,KAAKY,eAAL,EAJL,CAME,OAAO,CAAE,KAAKE,YANhB,UAvBN,CAmCE,8BAnCF,CAqCIX,eAAe,EACb,oBAAC,KAAD,EAAO,OAAO,CAAC,SAAf,EACGC,OADH,CAtCN,CADF,CAFF,CAkDD,C,4BA7G0Bf,KAAK,CAACiC,S,EAmHnC,cAAexB,CAAAA,cAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport {\n  Button ,\n  FormGroup ,\n  FormControl ,\n  Badge ,\n  Alert ,\n\n} from \"react-bootstrap\";\nimport LoaderSpinner from '../Misc/LoaderSpinner'\n\n\nimport \"../../content/css/App.css\";\nimport {\n  reset_password_url ,\n\n} from \"../../backend-urls.js\" ;\n\n\nclass ForgotPassword extends React.Component {\n\n  state = {\n    loading : false , //stores the loading page\n    error : null , //stores any error that would get returned from the backend\n    email : \"\" , //stores the email from the input\n    email_submitted : null , //stores response after user submits their email\n    message : null , //stores the response message\n\n  }\n\n  handleEmail = (e) => {\n    console.log(e.target.value) ;\n    this.setState({email : e.target.value}) ;\n  }\n\n  handleValidated = () => {\n    return !(this.state.email.length > 1  )\n  }\n\n  handleSubmit = () => {\n    this.setState({\n      loading: true ,\n\n    })\n\n    var data = new FormData() ;\n    data.append('email' , this.state.email) ;\n    axios\n      .post(reset_password_url , data)\n      .then(response => {\n        console.log(response)\n        this.setState({\n          email_submitted : true ,\n          loading : false ,\n          message : response.data.message\n        })\n      })\n      .catch(error => {\n        console.log(error)\n        this.setState({\n          error : error.response.data ,\n          loading : false ,\n\n        })\n      })\n  }\n\n\n  render(){\n    const {\n      loading ,\n      error ,\n      email ,\n      email_submitted ,\n      message ,\n\n    } = this.state ;\n\n    return(\n\n      <div className=\"account-form\">\n        <form >\n          <h3>Reset Password </h3>\n          <hr />\n          <FormGroup controlId=\"email\" bsSize=\"large\">\n            Email\n            <FormControl\n              required\n              autoFocus\n              value={email}\n              onChange= {this.handleEmail}\n            />\n          </FormGroup>\n\n          {\n            loading ?\n                <Button\n                  block\n                  bsSize=\"large\"\n                  disabled={true}\n                >\n                  <LoaderSpinner />\n                </Button>\n            :\n              <Button\n                block\n                bsSize=\"large\"\n                disabled={\n                  (this.handleValidated())\n                }\n                onClick={this.handleSubmit}\n              >\n                Login\n              </Button>\n          }\n\n          <br />\n          {\n            email_submitted &&\n              <Alert variant=\"success\">\n                {message}\n              </Alert>\n          }\n        </form>\n\n      </div>\n\n    )\n  }\n\n\n\n}\n\nexport default ForgotPassword;\n"]},"metadata":{},"sourceType":"module"}