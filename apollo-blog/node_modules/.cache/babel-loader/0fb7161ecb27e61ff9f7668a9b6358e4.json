{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\n\nvar tslib_1 = require(\"tslib\");\n\nvar PropTypes = tslib_1.__importStar(require(\"prop-types\"));\n\nvar cloneDeep_1 = tslib_1.__importDefault(require(\"lodash/cloneDeep\"));\n\nvar isEqual_1 = tslib_1.__importDefault(require(\"lodash/isEqual\"));\n\nvar omit_1 = tslib_1.__importDefault(require(\"lodash/omit\"));\n\nvar set_1 = tslib_1.__importDefault(require(\"lodash/set\"));\n\nvar ValidatedQuickForm_1 = tslib_1.__importDefault(require(\"./ValidatedQuickForm\"));\n\nvar Auto = function (parent) {\n  var _a;\n\n  return _a =\n  /** @class */\n  function (_super) {\n    tslib_1.__extends(class_1, _super);\n\n    function class_1() {\n      var _this = _super.apply(this, arguments) || this; // @ts-ignore\n\n\n      _this.state = tslib_1.__assign({}, _this.state, {\n        model: _this.props.model,\n        modelSync: _this.props.model\n      });\n      return _this;\n    }\n\n    class_1.prototype.componentWillReceiveProps = function (_a) {\n      var model = _a.model;\n\n      _super.prototype.componentWillReceiveProps.apply(this, arguments);\n\n      if (!isEqual_1[\"default\"](this.props.model, model)) {\n        this.setState(function () {\n          return {\n            model: model,\n            modelSync: model\n          };\n        });\n      }\n    };\n\n    class_1.prototype.getNativeFormProps = function () {\n      return omit_1[\"default\"](_super.prototype.getNativeFormProps.call(this), ['onChangeModel']);\n    };\n\n    class_1.prototype.getModel = function (mode) {\n      return mode === 'form' ? this.state.modelSync : this.state.model;\n    };\n\n    class_1.prototype.onChange = function (key, value) {\n      var _this = this;\n\n      var updateState = function (state) {\n        return {\n          modelSync: set_1[\"default\"](cloneDeep_1[\"default\"](state.modelSync), key, value)\n        };\n      };\n\n      var updateModel = function (state) {\n        if (_this.props.onChangeModel) {\n          _this.props.onChangeModel(state.modelSync);\n        }\n\n        return {\n          model: state.modelSync\n        };\n      }; // Before componentDidMount, every call to onChange should call BaseForm#onChange synchronously\n\n\n      if (this.state.changed === null) {\n        this.setState(updateState);\n\n        _super.prototype.onChange.call(this, key, value);\n\n        this.setState(updateModel);\n      } else {\n        this.setState(updateState, function () {\n          _super.prototype.onChange.call(_this, key, value);\n\n          _this.setState(updateModel);\n        });\n      }\n    };\n\n    class_1.prototype.__reset = function (state) {\n      return tslib_1.__assign({}, _super.prototype.__reset.call(this, state), {\n        model: this.props.model,\n        modelSync: this.props.model\n      });\n    };\n\n    class_1.prototype.onValidate = function () {\n      return this.onValidateModel(this.getChildContextModel());\n    };\n\n    return class_1;\n  }(parent), _a.Auto = Auto, _a.displayName = \"Auto\" + parent.displayName, _a.propTypes = tslib_1.__assign({}, parent.propTypes, {\n    onChangeModel: PropTypes.func\n  }), _a;\n};\n\nexports[\"default\"] = Auto(ValidatedQuickForm_1[\"default\"]);","map":{"version":3,"sources":["/Users/connordavidson/Desktop/apollo_blog/apollo-blog/node_modules/uniforms/AutoForm.js"],"names":["exports","__esModule","tslib_1","require","PropTypes","__importStar","cloneDeep_1","__importDefault","isEqual_1","omit_1","set_1","ValidatedQuickForm_1","Auto","parent","_a","_super","__extends","class_1","_this","apply","arguments","state","__assign","model","props","modelSync","prototype","componentWillReceiveProps","setState","getNativeFormProps","call","getModel","mode","onChange","key","value","updateState","updateModel","onChangeModel","changed","__reset","onValidate","onValidateModel","getChildContextModel","displayName","propTypes","func"],"mappings":"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","sourcesContent":["\"use strict\";\nexports.__esModule = true;\nvar tslib_1 = require(\"tslib\");\nvar PropTypes = tslib_1.__importStar(require(\"prop-types\"));\nvar cloneDeep_1 = tslib_1.__importDefault(require(\"lodash/cloneDeep\"));\nvar isEqual_1 = tslib_1.__importDefault(require(\"lodash/isEqual\"));\nvar omit_1 = tslib_1.__importDefault(require(\"lodash/omit\"));\nvar set_1 = tslib_1.__importDefault(require(\"lodash/set\"));\nvar ValidatedQuickForm_1 = tslib_1.__importDefault(require(\"./ValidatedQuickForm\"));\nvar Auto = function (parent) { var _a; return _a = /** @class */ (function (_super) {\n        tslib_1.__extends(class_1, _super);\n        function class_1() {\n            var _this = _super.apply(this, arguments) || this;\n            // @ts-ignore\n            _this.state = tslib_1.__assign({}, _this.state, { model: _this.props.model, modelSync: _this.props.model });\n            return _this;\n        }\n        class_1.prototype.componentWillReceiveProps = function (_a) {\n            var model = _a.model;\n            _super.prototype.componentWillReceiveProps.apply(this, arguments);\n            if (!isEqual_1[\"default\"](this.props.model, model)) {\n                this.setState(function () { return ({ model: model, modelSync: model }); });\n            }\n        };\n        class_1.prototype.getNativeFormProps = function () {\n            return omit_1[\"default\"](_super.prototype.getNativeFormProps.call(this), ['onChangeModel']);\n        };\n        class_1.prototype.getModel = function (mode) {\n            return mode === 'form' ? this.state.modelSync : this.state.model;\n        };\n        class_1.prototype.onChange = function (key, value) {\n            var _this = this;\n            var updateState = function (state) { return ({\n                modelSync: set_1[\"default\"](cloneDeep_1[\"default\"](state.modelSync), key, value)\n            }); };\n            var updateModel = function (state) {\n                if (_this.props.onChangeModel) {\n                    _this.props.onChangeModel(state.modelSync);\n                }\n                return { model: state.modelSync };\n            };\n            // Before componentDidMount, every call to onChange should call BaseForm#onChange synchronously\n            if (this.state.changed === null) {\n                this.setState(updateState);\n                _super.prototype.onChange.call(this, key, value);\n                this.setState(updateModel);\n            }\n            else {\n                this.setState(updateState, function () {\n                    _super.prototype.onChange.call(_this, key, value);\n                    _this.setState(updateModel);\n                });\n            }\n        };\n        class_1.prototype.__reset = function (state) {\n            return tslib_1.__assign({}, _super.prototype.__reset.call(this, state), { model: this.props.model, modelSync: this.props.model });\n        };\n        class_1.prototype.onValidate = function () {\n            return this.onValidateModel(this.getChildContextModel());\n        };\n        return class_1;\n    }(parent)),\n    _a.Auto = Auto,\n    _a.displayName = \"Auto\" + parent.displayName,\n    _a.propTypes = tslib_1.__assign({}, parent.propTypes, { onChangeModel: PropTypes.func }),\n    _a; };\nexports[\"default\"] = Auto(ValidatedQuickForm_1[\"default\"]);\n"]},"metadata":{},"sourceType":"script"}