{"ast":null,"code":"import _classCallCheck from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import axios from\"axios\";import{Container,Card,ListGroup,Button,Col,Badge,Alert,Row,Grid,Form}from'react-bootstrap';import{connect}from\"react-redux\";import{withRouter}from'react-router';import ChangePassword from'./ChangePassword';var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);function Profile(){var _getPrototypeOf2;var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Profile)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={error:null,//holds the error\nloading:true,//to determine if the page is loading\naccount_info:[],//holds the account info\nselected_button:\"info\"//changes whenever a user selected a button. is on the top button by default\n};_this.handleGetAccount=function(){_this.setState({loading:true});console.log('username: '+_this.props.username);axios.post('http://127.0.0.1:8000/rest-auth/user/',{headers:{Authorization:'Token '+_this.props.token}//DRF requires the token in the header to create an article\n}).then(function(response){console.log(\"response: \"+response);// this.setState({\n//   account_info : response\n// })\n}).catch(function(error){console.log(\"error: \"+error);});};_this.handleProfileInfo=function(){switch(_this.state.selected_button){case\"info\":return React.createElement(Container,null,React.createElement(\"h5\",null,\"Change Your Password\"),React.createElement(\"hr\",null),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Old Password\"),React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\"})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Confirm Old Password\"),React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\"})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"New Password\"),React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\"})),React.createElement(Button,null,\"Change Your Password \"));break;case\"email_preferences\":return React.createElement(Container,null,React.createElement(\"h5\",null,\"Change Your Email Preferences\"),React.createElement(\"hr\",null),React.createElement(Form.Check,{type:\"checkbox\",label:\"New product alerts\"}),React.createElement(\"br\",null),React.createElement(Form.Check,{type:\"checkbox\",label:\"Updates on the progress of our website\"}),React.createElement(\"br\",null),React.createElement(Form.Check,{type:\"checkbox\",label:\"Hot Deals\"}));break;default:return React.createElement(\"h5\",null,\"default case\");}};return _this;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){console.log('token: '+this.props.token);this.setState({loading:true,token:this.props.token});this.handleGetAccount();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,error=_this$state.error,loading=_this$state.loading,account_info=_this$state.account_info,selected_button=_this$state.selected_button;var _this$props=this.props,username=_this$props.username,authenticated=_this$props.authenticated,token=_this$props.token;console.log('username: '+username);console.log('token: '+token);console.log(selected_button);return React.createElement(React.Fragment,null,authenticated?React.createElement(Container,null,React.createElement(\"h4\",null,\"Account info for \",username),React.createElement(Row,null,React.createElement(Col,{sm:{span:3}},React.createElement(Card,null,React.createElement(ListGroup,{variant:\"flush\"},React.createElement(ListGroup.Item,{active:selected_button===\"info\",onClick:function onClick(){_this2.setState({selected_button:\"info\"});},style:{cursor:\"pointer\"}},\"Account Info\"),React.createElement(ListGroup.Item,{active:selected_button===\"email_preferences\",onClick:function onClick(){_this2.setState({selected_button:\"email_preferences\"});},style:{cursor:\"pointer\"}},\"Email Preferences\")))),React.createElement(Col,{sm:{span:6}},this.handleProfileInfo()))):React.createElement(\"h5\",null,\"how'd you get here??\"));}}]);return Profile;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{username:state.auth.username,token:state.auth.token,authenticated:state.auth.token!==null};};export default withRouter(connect(mapStateToProps)(Profile));","map":{"version":3,"sources":["/Users/connordavidson/Desktop/gcloud-apollo/apollo_blog_backend/apollo-blog/src/containers/Account/Profile.js"],"names":["React","axios","Container","Card","ListGroup","Button","Col","Badge","Alert","Row","Grid","Form","connect","withRouter","ChangePassword","Profile","state","error","loading","account_info","selected_button","handleGetAccount","setState","console","log","props","username","post","headers","Authorization","token","then","response","catch","handleProfileInfo","authenticated","span","cursor","Component","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from \"axios\";\n\nimport {\n  Container ,\n  Card ,\n  ListGroup ,\n  Button,\n  Col ,\n  Badge ,\n  Alert ,\n  Row ,\n  Grid ,\n  Form ,\n\n} from 'react-bootstrap';\nimport { connect } from \"react-redux\";\nimport {withRouter} from 'react-router';\nimport ChangePassword from './ChangePassword'\n\n\n\n\nclass Profile extends React.Component {\n  state = {\n    error : null , //holds the error\n    loading : true , //to determine if the page is loading\n    account_info : [] , //holds the account info\n    selected_button : \"info\" , //changes whenever a user selected a button. is on the top button by default\n\n  }\n\n  componentDidMount(){\n    console.log('token: ' + this.props.token)\n    this.setState({\n      loading: true ,\n      token : this.props.token ,\n\n    })\n\n    this.handleGetAccount() ;\n  }\n\n  handleGetAccount = () => {\n    this.setState({\n      loading: true ,\n\n    })\n\n    console.log('username: ' + this.props.username)\n    axios\n      .post( 'http://127.0.0.1:8000/rest-auth/user/' ,\n        {\n          headers: { Authorization: 'Token ' + this.props.token } //DRF requires the token in the header to create an article\n        }\n      )\n      .then(response => {\n        console.log(\"response: \" + response )\n        // this.setState({\n        //   account_info : response\n        // })\n      })\n      .catch(error => {\n        console.log(\"error: \" + error)\n      })\n  }\n\n  handleProfileInfo = () => {\n    switch(this.state.selected_button){\n      case \"info\" :\n        return(\n          <Container>\n            <h5>Change Your Password</h5>\n            <hr />\n            <Form.Group >\n              <Form.Label>Old Password</Form.Label>\n              <Form.Control type=\"email\" placeholder=\"Enter email\" />\n            </Form.Group>\n            <Form.Group >\n              <Form.Label>Confirm Old Password</Form.Label>\n              <Form.Control type=\"password\" placeholder=\"Password\" />\n            </Form.Group>\n            <Form.Group >\n              <Form.Label>New Password</Form.Label>\n              <Form.Control type=\"password\" placeholder=\"Password\" />\n            </Form.Group>\n            <Button >Change Your Password </Button>\n          </Container>\n          )\n        break ;\n      case \"email_preferences\" :\n        return(\n          <Container>\n            <h5>Change Your Email Preferences</h5>\n            <hr />\n            <Form.Check\n              type='checkbox'\n              label={`New product alerts`}\n            />\n            <br />\n            <Form.Check\n              type='checkbox'\n              label={`Updates on the progress of our website`}\n            />\n            <br />\n            <Form.Check\n              type='checkbox'\n              label={`Hot Deals`}\n            />\n          </Container>\n\n        )\n        break;\n      default :\n        return(\n          <h5>\n          default case\n          </h5>\n        )\n    }\n  }\n\n  render(){\n    const {\n      error ,\n      loading ,\n      account_info ,\n      selected_button ,\n\n    } = this.state\n\n    const {\n      username ,\n      authenticated ,\n      token ,\n\n    } = this.props\n\n    console.log('username: ' + username)\n    console.log('token: ' + token)\n\n\n    console.log(selected_button)\n    return(\n      <React.Fragment>\n        {\n          authenticated  ?\n            <Container>\n              <h4>Account info for {username}</h4>\n              <Row>\n                <Col sm={{ span: 3 }}>\n                  <Card>\n                    <ListGroup variant=\"flush\">\n                      <ListGroup.Item\n                        active={selected_button === \"info\"}\n                        onClick={() => {\n                            this.setState({\n                              selected_button : \"info\"\n                            })\n                          }\n                        }\n                        style={{cursor:\"pointer\"}}\n                      >\n                        Account Info\n                      </ListGroup.Item>\n                      <ListGroup.Item\n                        active={selected_button === \"email_preferences\"}\n                        onClick={() => {\n                            this.setState({\n                              selected_button : \"email_preferences\"\n                            })\n                          }\n                        }\n                        style={{cursor:\"pointer\"}}\n                      >\n                        Email Preferences\n                      </ListGroup.Item>\n                    </ListGroup>\n                  </Card>\n                </Col>\n                <Col sm={{ span: 6}} >\n                  {this.handleProfileInfo()}\n                </Col>\n              </Row>\n            </Container>\n          :\n            <h5>how'd you get here??</h5>\n        }\n      </React.Fragment>\n    )\n  }\n\n}\n\n\n\nconst mapStateToProps = (state) => {\n  return {\n    username : state.auth.username ,\n    token : state.auth.token ,\n    authenticated: state.auth.token !== null ,\n\n  }\n}\n\nexport default\n  withRouter(\n    connect(\n      mapStateToProps ,\n\n    )(Profile)\n  );\n"]},"metadata":{},"sourceType":"module"}