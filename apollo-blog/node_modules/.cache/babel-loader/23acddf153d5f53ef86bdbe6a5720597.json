{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { colorToString } from '@react-page/ui';\nimport * as React from 'react';\nimport { ModeEnum } from '../types/ModeEnum';\n\nvar getStyles = function (props) {\n  var _a = props.state,\n      _b = _a.background,\n      background = _b === void 0 ? '' : _b,\n      _c = _a.modeFlag,\n      modeFlag = _c === void 0 ? props.defaultModeFlag : _c,\n      _d = _a.isParallax,\n      isParallax = _d === void 0 ? true : _d,\n      _e = _a.backgroundColor,\n      backgroundColor = _e === void 0 ? props.defaultBackgroundColor : _e,\n      _f = _a.gradients,\n      gradients = _f === void 0 ? [] : _f;\n  var styles = {};\n\n  if (modeFlag & ModeEnum.GRADIENT_MODE_FLAG) {\n    var usedGradients = gradients.filter(function (g) {\n      return g.colors && g.colors.length;\n    });\n    var usedGradientsString = usedGradients.map(function (g, i) {\n      var firstColor = g.colors[0].color;\n      var firstColorStr = colorToString(firstColor);\n      var deg = i === props.gradientDegPreviewIndex && props.gradientDegPreview !== undefined ? props.gradientDegPreview : g.deg;\n      var opacity = i === props.gradientOpacityPreviewIndex && props.gradientOpacityPreview !== undefined ? props.gradientOpacityPreview : g.opacity;\n      return 'linear-gradient(' + deg + 'deg, ' + (g.colors.length !== 1 ? g.colors.map(function (c, cpIndex) {\n        var color = i === props.gradientColorPreviewIndex && cpIndex === props.gradientColorPreviewColorIndex && props.gradientColorPreview !== undefined ? props.gradientColorPreview : c.color;\n\n        var colorWithOpacity = __assign(__assign({}, color), {\n          a: color.a !== undefined ? color.a * opacity : opacity\n        });\n\n        return colorToString(colorWithOpacity);\n      }).join(', ') : firstColorStr + ', ' + firstColorStr) + ')';\n    }).join(', ');\n\n    if (usedGradientsString !== '') {\n      styles = __assign(__assign({}, styles), {\n        background: usedGradientsString\n      });\n    }\n  }\n\n  if (modeFlag & ModeEnum.COLOR_MODE_FLAG) {\n    var colorStr = colorToString(props.backgroundColorPreview ? props.backgroundColorPreview : backgroundColor);\n    var modeStr = \"linear-gradient(\" + colorStr + \", \" + colorStr + \")\";\n    styles = __assign(__assign({}, styles), {\n      background: styles.background ? styles.background + ', ' + modeStr : modeStr\n    });\n  }\n\n  if (modeFlag & ModeEnum.IMAGE_MODE_FLAG) {\n    var backgroundFinal = props.imagePreview ? props.imagePreview.dataUrl : background;\n    var modeStr = \"url('\" + backgroundFinal + \"') center / cover no-repeat\" + (isParallax ? ' fixed' : '');\n    styles = __assign(__assign({}, styles), {\n      background: styles.background ? styles.background + ', ' + modeStr : modeStr\n    });\n  }\n\n  return styles;\n};\n\nvar BackgroundHtmlRenderer = function (props) {\n  var children = props.children,\n      _a = props.state,\n      _b = _a.darken,\n      darken = _b === void 0 ? props.defaultDarken : _b,\n      _c = _a.lighten,\n      lighten = _c === void 0 ? props.defaultLighten : _c,\n      _d = _a.hasPadding,\n      hasPadding = _d === void 0 ? props.defaultHasPadding : _d;\n  var darkenFinal = props.darkenPreview !== undefined ? props.darkenPreview : darken;\n  var lightenFinal = props.lightenPreview !== undefined ? props.lightenPreview : lighten;\n  var containerStyles = getStyles(props);\n  return React.createElement(\"div\", {\n    className: \"ory-plugins-layout-background\",\n    style: __assign(__assign({}, containerStyles), hasPadding ? {} : {\n      padding: 0\n    })\n  }, React.createElement(\"div\", {\n    className: \"ory-plugins-layout-background__backstretch\",\n    style: {\n      // tslint:disable-next-line:max-line-length\n      backgroundImage: \"linear-gradient(rgba(0, 0, 0, \" + darkenFinal + \"), rgba(0, 0, 0, \" + darkenFinal + \")),linear-gradient(rgba(255, 255, 255, \" + lightenFinal + \"), rgba(255, 255, 255, \" + lightenFinal + \"))\"\n    }\n  }), children);\n};\n\nexport default BackgroundHtmlRenderer;","map":{"version":3,"sources":["../../src/Renderer/BackgroundHtmlRenderer.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { colorToString } from '@react-page/ui';\nimport * as React from 'react';\nimport { ModeEnum } from '../types/ModeEnum';\nvar getStyles = function (props) {\n    var _a = props.state, _b = _a.background, background = _b === void 0 ? '' : _b, _c = _a.modeFlag, modeFlag = _c === void 0 ? props.defaultModeFlag : _c, _d = _a.isParallax, isParallax = _d === void 0 ? true : _d, _e = _a.backgroundColor, backgroundColor = _e === void 0 ? props.defaultBackgroundColor : _e, _f = _a.gradients, gradients = _f === void 0 ? [] : _f;\n    var styles = {};\n    if (modeFlag & ModeEnum.GRADIENT_MODE_FLAG) {\n        var usedGradients = gradients.filter(function (g) { return g.colors && g.colors.length; });\n        var usedGradientsString = usedGradients\n            .map(function (g, i) {\n            var firstColor = g.colors[0].color;\n            var firstColorStr = colorToString(firstColor);\n            var deg = i === props.gradientDegPreviewIndex &&\n                props.gradientDegPreview !== undefined\n                ? props.gradientDegPreview\n                : g.deg;\n            var opacity = i === props.gradientOpacityPreviewIndex &&\n                props.gradientOpacityPreview !== undefined\n                ? props.gradientOpacityPreview\n                : g.opacity;\n            return ('linear-gradient(' +\n                deg +\n                'deg, ' +\n                (g.colors.length !== 1\n                    ? g.colors\n                        .map(function (c, cpIndex) {\n                        var color = i === props.gradientColorPreviewIndex &&\n                            cpIndex === props.gradientColorPreviewColorIndex &&\n                            props.gradientColorPreview !== undefined\n                            ? props.gradientColorPreview\n                            : c.color;\n                        var colorWithOpacity = __assign(__assign({}, color), { a: color.a !== undefined ? color.a * opacity : opacity });\n                        return colorToString(colorWithOpacity);\n                    })\n                        .join(', ')\n                    : firstColorStr + ', ' + firstColorStr) +\n                ')');\n        })\n            .join(', ');\n        if (usedGradientsString !== '') {\n            styles = __assign(__assign({}, styles), { background: usedGradientsString });\n        }\n    }\n    if (modeFlag & ModeEnum.COLOR_MODE_FLAG) {\n        var colorStr = colorToString(props.backgroundColorPreview\n            ? props.backgroundColorPreview\n            : backgroundColor);\n        var modeStr = \"linear-gradient(\" + colorStr + \", \" + colorStr + \")\";\n        styles = __assign(__assign({}, styles), { background: styles.background\n                ? styles.background + ', ' + modeStr\n                : modeStr });\n    }\n    if (modeFlag & ModeEnum.IMAGE_MODE_FLAG) {\n        var backgroundFinal = props.imagePreview\n            ? props.imagePreview.dataUrl\n            : background;\n        var modeStr = \"url('\" + backgroundFinal + \"') center / cover no-repeat\" +\n            (isParallax ? ' fixed' : '');\n        styles = __assign(__assign({}, styles), { background: styles.background\n                ? styles.background + ', ' + modeStr\n                : modeStr });\n    }\n    return styles;\n};\nvar BackgroundHtmlRenderer = function (props) {\n    var children = props.children, _a = props.state, _b = _a.darken, darken = _b === void 0 ? props.defaultDarken : _b, _c = _a.lighten, lighten = _c === void 0 ? props.defaultLighten : _c, _d = _a.hasPadding, hasPadding = _d === void 0 ? props.defaultHasPadding : _d;\n    var darkenFinal = props.darkenPreview !== undefined ? props.darkenPreview : darken;\n    var lightenFinal = props.lightenPreview !== undefined ? props.lightenPreview : lighten;\n    var containerStyles = getStyles(props);\n    return (React.createElement(\"div\", { className: \"ory-plugins-layout-background\", style: __assign(__assign({}, containerStyles), (hasPadding ? {} : { padding: 0 })) },\n        React.createElement(\"div\", { className: \"ory-plugins-layout-background__backstretch\", style: {\n                // tslint:disable-next-line:max-line-length\n                backgroundImage: \"linear-gradient(rgba(0, 0, 0, \" + darkenFinal + \"), rgba(0, 0, 0, \" + darkenFinal + \")),linear-gradient(rgba(255, 255, 255, \" + lightenFinal + \"), rgba(255, 255, 255, \" + lightenFinal + \"))\",\n            } }),\n        children));\n};\nexport default BackgroundHtmlRenderer;\n//# sourceMappingURL=BackgroundHtmlRenderer.js.map"]},"metadata":{},"sourceType":"module"}